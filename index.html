<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø¥Ø´Ø±Ø§ÙÙŠØ© Ø§Ù„Ù…Ø¯Ù…Ø¬</title>
    
    <!-- Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/html-docx-js/dist/html-docx.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        /* --- Global Styles --- */
        body {
            font-family: 'Cairo', sans-serif;
        }

        /* --- Supervisory Visits App Styles --- */
        #supervisoryVisitsApp {
            font-family: 'Tajawal', sans-serif; 
        }

        #supervisoryVisitsApp :root {
            --primary-color: #007bff;
            --primary-dark: #0056b3;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --warning-color: #ffc107;
            --info-color: #17a2b8;
            --light-gray: #f8f9fa;
            --medium-gray: #dee2e6;
            --dark-gray: #6c757d;
            --text-color: #333;
            --bg-color: #f0f2f5;
            --white-color: #ffffff;
            --border-radius: 8px;
            --shadow: 0 4px 12px rgba(0,0,0,0.08);
        }

        #supervisoryVisitsApp body { 
            margin: 0;
            padding: 20px;
            background-color: var(--bg-color);
            color: var(--text-color);
        }

        #supervisoryVisitsApp .main-container {
            max-width: 900px;
            margin: auto;
            background-color: var(--white-color);
            padding: 25px 30px;
            border-radius: 12px;
            box-shadow: var(--shadow);
        }

        #supervisoryVisitsApp #sv-form-view, #supervisoryVisitsApp #sv-dashboard-view, #supervisoryVisitsApp #sv-saved-reports-view { display: none; }
        #supervisoryVisitsApp #sv-form-view.active, #supervisoryVisitsApp #sv-dashboard-view.active, #supervisoryVisitsApp #sv-saved-reports-view.active { display: block; }

        #supervisoryVisitsApp .top-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        #supervisoryVisitsApp .nav-tabs {
            display: flex;
            border-bottom: 2px solid var(--medium-gray);
            flex-grow: 1;
        }
        #supervisoryVisitsApp .nav-tab {
            padding: 10px 20px;
            cursor: pointer;
            border: none;
            background-color: transparent;
            font-family: 'Tajawal', sans-serif;
            font-size: 1.1rem;
            font-weight: 500;
            color: var(--dark-gray);
            border-bottom: 3px solid transparent;
            transition: color 0.2s, border-bottom-color 0.2s;
        }
        #supervisoryVisitsApp .nav-tab:hover { color: var(--primary-dark); }
        #supervisoryVisitsApp .nav-tab.active {
            color: var(--primary-dark);
            font-weight: 700;
            border-bottom-color: var(--primary-color);
        }
        
        #supervisoryVisitsApp .page-header h1 { color: var(--primary-dark); margin: 0; text-align: center;}
        #supervisoryVisitsApp .page-header p { margin: 5px 0 25px; color: #666; font-size: 1.1rem; text-align: center;}
        #supervisoryVisitsApp h2 { color: var(--primary-dark); border-right: 4px solid var(--primary-color); padding-right: 10px; margin-top: 30px; }
        #supervisoryVisitsApp details { border: 1px solid #e0e0e0; border-radius: var(--border-radius); padding: 10px 15px; margin-bottom: 20px; background-color: var(--light-gray); }
        #supervisoryVisitsApp summary { cursor: pointer; font-weight: 700; font-size: 1.2rem; color: var(--primary-dark); list-style: none; display: flex; align-items: center; }
        #supervisoryVisitsApp summary::-webkit-details-marker { display: none; }
        #supervisoryVisitsApp summary::before { content: 'â—€'; margin-left: 10px; font-size: 0.8em; transition: transform 0.2s; }
        #supervisoryVisitsApp details[open] > summary::before { transform: rotate(-90deg); }
        #supervisoryVisitsApp .item-card { border: 1px solid #ccc; border-radius: var(--border-radius); padding: 15px; margin: 15px 0; background-color: #fdfdfd; transition: box-shadow 0.3s; }
        #supervisoryVisitsApp .item-card:hover { box-shadow: 0 2px 8px rgba(0,0,0,0.07); }
        #supervisoryVisitsApp .item-header { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px;}
        #supervisoryVisitsApp .item-header h4 { margin: 0; font-size: 1.1rem; color: var(--text-color); flex-grow: 1; }
        #supervisoryVisitsApp .item-header h4 small { color: #555; font-weight: 400; font-size: 0.9rem;}
        #supervisoryVisitsApp .score { font-size: 2rem; font-weight: bold; color: var(--text-color); background-color: var(--bg-color); border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; transition: color 0.3s, background-color 0.3s; }
        
        #supervisoryVisitsApp .rating-selector { display: flex; justify-content: space-around; padding: 10px 0; margin-top: 10px; border-top: 1px solid #eee;}
        #supervisoryVisitsApp .rating-btn { padding: 8px 12px; border-radius: 5px; border: 1px solid #ccc; background-color: var(--light-gray); cursor: pointer; transition: all 0.2s; font-size: 0.9rem; }
        #supervisoryVisitsApp .rating-btn:hover { transform: translateY(-2px); box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        #supervisoryVisitsApp .rating-btn.active { font-weight: bold; color: white; border-color: transparent; }
        #supervisoryVisitsApp .rating-btn.active.score-1 { background-color: #155724; }
        #supervisoryVisitsApp .rating-btn.active.score-2 { background-color: #004085; }
        #supervisoryVisitsApp .rating-btn.active.score-3 { background-color: #856404; }
        #supervisoryVisitsApp .rating-btn.active.score-4 { background-color: #721c24; }
        #supervisoryVisitsApp .rating-btn.active.score-5 { background-color: #dc3545; }

        #supervisoryVisitsApp .notes-wrapper { position: relative; }
        #supervisoryVisitsApp .item-notes { width: 100%; box-sizing: border-box; margin-top: 15px; padding: 8px; padding-left: 35px; border: 1px solid #ddd; border-radius: 4px; background-color: var(--light-gray); font-size: 0.95rem; min-height: 80px; }
        #supervisoryVisitsApp .item-notes .highlight { color: var(--danger-color); font-weight: bold; }

        #supervisoryVisitsApp .mic-btn { position: absolute; left: 8px; top: 25px; background: none; border: none; cursor: pointer; font-size: 1.2rem; color: var(--dark-gray); transition: color 0.2s;}
        #supervisoryVisitsApp .mic-btn:hover { color: var(--primary-color); }
        #supervisoryVisitsApp .mic-btn.recording { color: var(--danger-color); animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.2); } 100% { transform: scale(1); } }
        
        #supervisoryVisitsApp .info-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; align-items: center;}
        #supervisoryVisitsApp .info-grid input, #supervisoryVisitsApp .info-grid select { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box; font-family: 'Tajawal', sans-serif; font-size: 1rem; }
        #supervisoryVisitsApp .info-grid .dropdown-wrapper { display: flex; flex-direction: column; gap: 5px; }
        
        #supervisoryVisitsApp .controls { text-align: center; margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee; display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; }
        #supervisoryVisitsApp .controls button { padding: 10px 20px; font-size: 1rem; font-family: 'Tajawal', sans-serif; font-weight: 700; cursor: pointer; border: none; border-radius: 5px; color: white; transition: background-color 0.2s, transform 0.1s; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        #supervisoryVisitsApp .controls button:hover { transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,0,0,0.15); }
        #supervisoryVisitsApp .print-btn { background-color: var(--success-color); }
        #supervisoryVisitsApp .reset-btn { background-color: var(--danger-color); }
        #supervisoryVisitsApp .generate-btn { background-color: var(--primary-color); }
        #supervisoryVisitsApp .archive-btn { background-color: #3f51b5; }
        #supervisoryVisitsApp .export-btn { background-color: var(--info-color); }
        #supervisoryVisitsApp #status-message { text-align: center; color: green; margin-top: 15px; font-weight: 500; height: 20px; transition: opacity 0.5s; }
        #supervisoryVisitsApp .report-section { margin-top: 40px; border-top: 2px solid var(--primary-color); padding-top: 20px; }
        #supervisoryVisitsApp .report-box h3 { color: var(--primary-dark); margin-top: 0; border-bottom: 1px solid #ccc; padding-bottom: 10px; }
        #supervisoryVisitsApp .report-content-area { width: 100%; box-sizing: border-box; border: 1px solid var(--medium-gray); border-radius: 4px; background-color: var(--light-gray); font-family: inherit; font-size: 1rem; line-height: 1.7; resize: vertical; min-height: 120px; padding: 8px; margin-top: 10px; }

        #supervisoryVisitsApp .report-box-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #ccc; padding-bottom: 10px; }
        #supervisoryVisitsApp .report-box-header h3 { margin: 0; border-bottom: none; padding-bottom: 0; }
        #supervisoryVisitsApp .copy-btn { background-color: var(--dark-gray); color: white; border: none; border-radius: 5px; padding: 5px 10px; font-size: 0.8rem; cursor: pointer; transition: background-color 0.2s; }
        #supervisoryVisitsApp .copy-btn:hover { background-color: var(--primary-dark); }

        #supervisoryVisitsApp .template-section { margin-top: 20px; padding: 15px; border: 1px dashed var(--primary-color); border-radius: var(--border-radius); background-color: var(--light-gray);}
        #supervisoryVisitsApp .template-controls { display: flex; gap: 10px; align-items: center; flex-wrap: wrap;}
        #supervisoryVisitsApp .template-controls select { flex-grow: 1; }
        #supervisoryVisitsApp .template-controls button { padding: 8px 12px; font-size: 0.9rem; border-radius: 5px; border:none; color: white; cursor: pointer; }
        #supervisoryVisitsApp .template-controls .load-tpl-btn { background-color: var(--primary-color); }
        #supervisoryVisitsApp .template-controls .save-tpl-btn { background-color: var(--success-color); }

        #supervisoryVisitsApp .dashboard-controls, #supervisoryVisitsApp .saved-reports-controls { display: flex; gap: 10px; margin-bottom: 20px; align-items: flex-end; flex-wrap: wrap; }
        #supervisoryVisitsApp .dashboard-controls .control-group, #supervisoryVisitsApp .saved-reports-controls .control-group { flex-grow: 1; }
        #supervisoryVisitsApp .dashboard-controls label, #supervisoryVisitsApp .saved-reports-controls label { display: block; margin-bottom: 5px; font-weight: 500; }
        #supervisoryVisitsApp .dashboard-controls input, #supervisoryVisitsApp .dashboard-controls select, #supervisoryVisitsApp .saved-reports-controls input { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-family: 'Tajawal', sans-serif; font-size: 1rem;}
        #supervisoryVisitsApp .dashboard-controls button, #supervisoryVisitsApp .saved-reports-controls button { padding: 10px 15px; background-color: var(--primary-color); color: white; border: none; border-radius: 5px; cursor: pointer; height: 45px; }
        #supervisoryVisitsApp #sv-chart-container { margin-top: 20px; height: 450px; }
        #supervisoryVisitsApp .no-data-message { text-align: center; color: var(--dark-gray); font-size: 1.2rem; padding: 40px; background-color: var(--light-gray); border-radius: var(--border-radius); }
        #supervisoryVisitsApp .saved-report-card { background-color: var(--light-gray); border: 1px solid var(--medium-gray); border-right: 5px solid var(--primary-color); border-radius: var(--border-radius); padding: 15px; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px; transition: box-shadow 0.2s; }
        #supervisoryVisitsApp .saved-report-card:hover { box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        #supervisoryVisitsApp .saved-report-info { font-size: 1.1rem; }
        #supervisoryVisitsApp .saved-report-info strong { color: var(--primary-dark); }
        #supervisoryVisitsApp .saved-report-actions button { padding: 8px 12px; margin-right: 5px; border:none; color:white; font-weight:500; border-radius:5px; cursor:pointer;}
        #supervisoryVisitsApp .saved-report-actions .load-btn { background-color: var(--primary-color); }
        #supervisoryVisitsApp .saved-report-actions .delete-btn { background-color: var(--danger-color); }

        #supervisoryVisitsApp .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); display: none; justify-content: center; align-items: center; z-index: 1000; backdrop-filter: blur(5px); }
        #supervisoryVisitsApp .modal-content { background-color: white; padding: 25px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); text-align: center; max-width: 400px; width: 90%; animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
        #supervisoryVisitsApp .modal-buttons { display: flex; justify-content: center; gap: 15px; margin-top: 20px; }
        #supervisoryVisitsApp .modal-buttons button { padding: 10px 20px; border-radius: 5px; border: none; cursor: pointer; font-weight: 700; }
        #supervisoryVisitsApp .modal-confirm-btn { background-color: var(--danger-color); color: white; }
        #supervisoryVisitsApp .modal-cancel-btn { background-color: var(--dark-gray); color: white; }

        #supervisoryVisitsApp .print-view { display: none; }

        /* --- School Visits App Styles --- */
        #schoolVisitsApp .modal-backdrop {
            transition: opacity 0.3s ease-in-out;
        }
        #schoolVisitsApp .modal-content {
            transition: transform 0.3s ease-in-out;
        }


        /* --- Print Styles --- */
        @media print {
            .no-print { display: none !important; }

            /* Supervisory App Print */
            #supervisoryVisitsApp body { background-color: #fff; padding: 0; margin: 0; font-family: 'Times New Roman', Times, serif; }
            #supervisoryVisitsApp .main-container, #supervisoryVisitsApp .modal-overlay { display: none; }
            #supervisoryVisitsApp .print-view { display: block; }
            #supervisoryVisitsApp .print-logo-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; border-bottom: 2px solid #000; padding-bottom: 10px; }
            #supervisoryVisitsApp .print-logo-header img { max-height: 70px; }
            #supervisoryVisitsApp .print-header-text, .print-title { text-align: center; font-weight: bold; margin-bottom: 15px; }
            #supervisoryVisitsApp .print-main-table, .print-info-table { width: 100%; border-collapse: collapse; margin-bottom: 15px; }
            #supervisoryVisitsApp .print-main-table th, #supervisoryVisitsApp .print-main-table td, #supervisoryVisitsApp .print-info-table td { border: 1px solid #000; padding: 5px; text-align: center; vertical-align: middle; }
            #supervisoryVisitsApp .print-main-table th { background-color: #f2f2f2 !important; -webkit-print-color-adjust: exact; color-adjust: exact; }
            #supervisoryVisitsApp .print-info-table .label { font-weight: bold; background-color: #f2f2f2 !important; -webkit-print-color-adjust: exact; color-adjust: exact; width: 15%; }
            #supervisoryVisitsApp .item-cell { text-align: right !important; }
            #supervisoryVisitsApp .category-cell { font-weight: bold; }
            #supervisoryVisitsApp .report-section-print { margin-top: 20px; border: 2px solid #000; padding: 10px; page-break-inside: avoid; }
            #supervisoryVisitsApp .report-section-print h3 { margin: 0 0 10px 0; font-size: 1.2rem; background-color: #f2f2f2 !important; padding: 5px; text-align: center; -webkit-print-color-adjust: exact; color-adjust: exact; border-bottom: 1px solid #000; }
            #supervisoryVisitsApp .print-report-box { white-space: pre-wrap; text-align: right; min-height: 80px; }
            #supervisoryVisitsApp .signature-section { margin-top: 40px; page-break-inside: avoid; }
            #supervisoryVisitsApp .evaluation-standard { text-align: center; font-size: 0.9em; margin-top: 20px; border-top: 1px solid #000; padding-top: 5px;}
            
            /* School App Print */
            #schoolVisitsApp body * { visibility: hidden; }
            #schoolVisitsApp #reportPreviewContainer, #schoolVisitsApp #reportPreviewContainer * { visibility: visible; }
            #schoolVisitsApp #reportPreviewContainer { position: absolute; left: 0; top: 0; width: 100%; box-shadow: none; border: none; margin: 0; padding: 0; }
        }
    </style>
</head>
<body class="bg-gray-100">

    <!-- Welcome View -->
    <div id="welcomeView" class="flex flex-col items-center justify-center min-h-screen p-6">
        <div class="text-center">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-800">Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø¥Ø´Ø±Ø§ÙÙŠØ©</h1>
            <p class="mt-4 text-lg text-gray-600">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø°ÙŠ ØªÙˆØ¯ Ø§Ù„Ø¹Ù…Ù„ Ø¹Ù„ÙŠÙ‡</p>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-12 w-full max-w-4xl">
            <!-- Supervisory Visits Card -->
            <div id="showSupervisoryAppBtn" class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-shadow cursor-pointer border-t-4 border-blue-500">
                <h2 class="text-2xl font-bold text-gray-800">Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø¥Ø´Ø±Ø§ÙÙŠØ©</h2>
                <p class="mt-2 text-gray-600">Ù†Ù…ÙˆØ°Ø¬ ØªÙ‚ÙŠÙŠÙ… Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† ÙÙŠ Ù…Ø§Ø¯Ø© Ø§Ù„Ø±ÙŠØ§Ø¶Ø© Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ© Ù…Ø¹ Ù„ÙˆØ­Ø© Ù…ØªØ§Ø¨Ø¹Ø© ØªØ­Ù„ÙŠÙ„ÙŠØ©.</p>
            </div>
            <!-- School Visits Card -->
            <div id="showSchoolAppBtn" class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-2xl transition-shadow cursor-pointer border-t-4 border-green-500">
                <h2 class="text-2xl font-bold text-gray-800">Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ©</h2>
                <p class="mt-2 text-gray-600">Ù†Ø¸Ø§Ù… Ù„ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ© ÙˆØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù ÙˆØ§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§ØªØŒ Ù…Ø¹ Ø­ÙØ¸ Ø³Ø­Ø§Ø¨ÙŠ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª.</p>
            </div>
        </div>
    </div>


    <!-- Supervisory Visits App Container -->
    <div id="supervisoryVisitsApp" class="hidden">
        <div class="main-container">
            <header class="top-header">
                <nav class="nav-tabs">
                    <button class="nav-tab active" data-view="sv-form-view">Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</button>
                    <button class="nav-tab" data-view="sv-dashboard-view">Ù„ÙˆØ­Ø© Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©</button>
                    <button class="nav-tab" data-view="sv-saved-reports-view">Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©</button>
                </nav>
                 <button id="backToWelcomeFromSupervisory" class="text-gray-700 bg-gray-200 hover:bg-gray-300 font-medium rounded-lg text-sm px-4 py-2 whitespace-nowrap transition-colors mt-2 sm:mt-0">
                    Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                </button>
            </header>
    
            <div id="sv-form-view" class="active">
                <div class="page-header">
                    <h1>Ø§Ø³ØªÙ…Ø§Ø±Ø© Ø²ÙŠØ§Ø±Ø© Ø¥Ø´Ø±Ø§ÙÙŠØ© Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</h1>
                    <p>Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¥Ø´Ø±Ø§ÙÙŠ Ø§Ù„Ø±Ù‚Ù…ÙŠ Ø§Ù„Ù…Ø·ÙˆØ± (Ø§Ù„Ø±ÙŠØ§Ø¶Ø© Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ©)</p>
                </div>
                <main>
                    <section class="visit-info">
                        <h2>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø²ÙŠØ§Ø±Ø©</h2>
                        <div class="info-grid">
                            <div class="dropdown-wrapper">
                                <label for="sv-school">Ø§Ù„Ù…Ø¯Ø±Ø³Ø©:</label>
                                <select id="sv-school"></select>
                                <input id="sv-school-other" type="text" placeholder="Ø£Ùˆ Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø³Ø© ÙŠØ¯ÙˆÙŠÙ‹Ø§" style="display: none; margin-top: 5px;">
                            </div>
                            <div class="dropdown-wrapper">
                                <label for="sv-teacherName">Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù…:</label>
                                <select id="sv-teacherName"></select>
                                 <input id="sv-teacherName-other" type="text" placeholder="Ø£Ùˆ Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù… ÙŠØ¯ÙˆÙŠÙ‹Ø§" style="display: none; margin-top: 5px;">
                            </div>
                            <input id="sv-fileNumber" type="text" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…Ù„Ù">
                            <input id="sv-subject" type="text" placeholder="Ø§Ù„Ù…Ø§Ø¯Ø©" value="Ø§Ù„Ø±ÙŠØ§Ø¶Ø© Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ©">
                            <input id="sv-visitNumber" type="text" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø²ÙŠØ§Ø±Ø©">
                            <input id="sv-visitDate" type="date" placeholder="Ø§Ù„ØªØ§Ø±ÙŠØ®">
                            <input id="sv-class" type="text" placeholder="Ø§Ù„ØµÙ">
                            <input id="sv-lesson" type="text" placeholder="Ø§Ù„Ø­ØµØ©">
                            <input id="sv-topic" type="text" placeholder="Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹">
                        </div>
                    </section>
    
                    <section class="template-section">
                         <div class="template-controls">
                            <select id="sv-template-select" class="info-grid-input"></select>
                            <button id="sv-loadTemplateBtn" class="load-tpl-btn">ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ù„Ø¨</button>
                            <button id="sv-saveTemplateBtn" class="save-tpl-btn">Ø­ÙØ¸ ÙƒÙ‚Ø§Ù„Ø¨</button>
                        </div>
                    </section>
                    
                    <details>
                        <summary>Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ø¹Ø±Ø¶ Ù…Ø¹ÙŠØ§Ø± Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</summary>
                        <div style="padding: 10px;">
                            <ul>
                                <li><b>1 - Ù…ØªÙ…ÙŠØ²</b></li>
                                <li><b>2 - Ø¬ÙŠØ¯</b></li>
                                <li><b>3 - Ù…Ù„Ø§Ø¦Ù…</b></li>
                                <li><b>4 - ØºÙŠØ± Ù…Ù„Ø§Ø¦Ù…</b></li>
                                <li><b>5 - ÙŠØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ¯Ø®Ù„ Ø³Ø±ÙŠØ¹</b></li>
                            </ul>
                        </div>
                    </details>
    
                    <form id="sv-evaluationForm">
                        <!-- Item Cards will be generated by JS -->
                    </form>
                    
                    <section id="sv-reportSection" class="report-section" style="display: none;">
                        <h2>Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</h2>
                        <div class="report-box">
                            <div class="report-box-header">
                                <h3>Ø¬ÙˆØ§Ù†Ø¨ Ø§Ù„Ø¥Ø¬Ø§Ø¯Ø©</h3>
                                <button class="copy-btn" data-target="sv-strengthsContent">Ù†Ø³Ø®</button>
                            </div>
                            <textarea id="sv-strengthsContent" class="report-content-area" placeholder="..."></textarea>
                        </div>
                        <div class="report-box">
                            <div class="report-box-header">
                                <h3>Ø§Ù„Ø¬ÙˆØ§Ù†Ø¨ Ø§Ù„ØªÙŠ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ·ÙˆÙŠØ±</h3>
                                 <button class="copy-btn" data-target="sv-developmentContent">Ù†Ø³Ø®</button>
                            </div>
                            <textarea id="sv-developmentContent" class="report-content-area" placeholder="..."></textarea>
                        </div>
                        <div class="report-box">
                            <div class="report-box-header">
                                <h3>Ø§Ù„ØªÙˆØµÙŠØ§Øª</h3>
                                <button class="copy-btn" data-target="sv-recommendationsContent">Ù†Ø³Ø®</button>
                            </div>
                            <textarea id="sv-recommendationsContent" class="report-content-area" placeholder="..."></textarea>
                        </div>
                    </section>
    
                    <section class="visitor-info">
                        <h2>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø²Ø§Ø¦Ø±</h2>
                        <div class="info-grid">
                            <input id="sv-visitorName" type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ø²Ø§Ø¦Ø±">
                            <input id="sv-visitorPosition" type="text" placeholder="Ø§Ù„ÙˆØ¸ÙŠÙØ© (Ù…Ø«Ø§Ù„: Ù…Ø´Ø±Ù ØªØ±Ø¨ÙˆÙŠ)">
                        </div>
                    </section>
                    
                    <p id="sv-status-message"></p>
    
                    <section class="controls">
                        <button type="button" class="archive-btn" id="sv-savePermanentReportBtn">Ø­ÙØ¸ Ø§Ù„ØªÙ‚Ø±ÙŠØ±</button>
                        <button type="button" class="generate-btn" id="sv-generateReportBtn">ØªÙˆÙ„ÙŠØ¯ ØªÙ‚Ø±ÙŠØ±</button>
                        <button class="print-btn" id="sv-printOfficialReportBtn">Ø·Ø¨Ø§Ø¹Ø©</button>
                        <button type="button" class="export-btn" id="sv-exportToWordBtn">ØªØµØ¯ÙŠØ± Word</button>
                        <button type="button" class="reset-btn" id="sv-showResetConfirmationBtn">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
                    </section>
                </main>
            </div>
    
            <div id="sv-dashboard-view">
                <h2>Ù„ÙˆØ­Ø© Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ÙŠØ©</h2>
                 <div class="dashboard-controls">
                    <div class="control-group">
                        <label for="sv-teacher-dashboard-select">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¹Ù„Ù…:</label>
                        <select id="sv-teacher-dashboard-select"></select>
                    </div>
                    <div class="control-group">
                         <label for="sv-chartTypeSelect">Ù†ÙˆØ¹ Ø§Ù„ØªØ­Ù„ÙŠÙ„:</label>
                         <select id="sv-chartTypeSelect">
                            <option value="radar">ØªØ­Ù„ÙŠÙ„ Ø²ÙŠØ§Ø±Ø© ÙˆØ§Ø­Ø¯Ø© (Ø±Ø§Ø¯Ø§Ø±ÙŠ)</option>
                            <option value="line">ØªØ·ÙˆØ± Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø¹Ø¨Ø± Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª (Ø®Ø·ÙŠ)</option>
                            <option value="bar">Ù…ØªÙˆØ³Ø· Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù… (Ø´Ø±ÙŠØ·ÙŠ)</option>
                        </select>
                    </div>
                     <div class="control-group" id="sv-visitDateGroup" style="display: none;">
                        <label for="sv-visitDateSelect">Ø§Ø®ØªØ± Ø§Ù„Ø²ÙŠØ§Ø±Ø©:</label>
                        <select id="sv-visitDateSelect"></select>
                    </div>
                    <button id="sv-updateDashboardViewBtn">Ø¹Ø±Ø¶ Ø§Ù„ØªØ­Ù„ÙŠÙ„</button>
                </div>
                <div id="sv-chart-container">
                    <canvas id="sv-performanceChart"></canvas>
                </div>
                <div id="sv-no-data-message" class="no-data-message" style="display: none;">
                    <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…Ø¹Ù„Ù… Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†.</p>
                </div>
            </div>
    
            <div id="sv-saved-reports-view">
                <h2>Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©</h2>
                 <div class="saved-reports-controls">
                    <div class="control-group">
                        <label for="sv-filter-reports-input">Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©:</label>
                        <input type="text" id="sv-filter-reports-input" placeholder="Ø§Ø¨Ø­Ø«...">
                    </div>
                </div>
                <div id="sv-saved-reports-list">
                    <!-- Reports will be injected here -->
                </div>
                <div id="sv-no-saved-reports-message" class="no-data-message" style="display: none;">
                    <p>Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ‚Ø§Ø±ÙŠØ± Ù…Ø­ÙÙˆØ¸Ø© Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†.</p>
                </div>
            </div>
        </div>
        
        <div id="supervisoryConfirmationModal" class="modal-overlay">
            <div class="modal-content">
                <h3 id="supervisory-modal-title"></h3>
                <p id="supervisory-modal-message"></p>
                <div class="modal-buttons">
                    <button id="supervisory-modal-confirm-btn" class="modal-confirm-btn">ØªØ£ÙƒÙŠØ¯</button>
                    <button id="supervisory-modal-cancel-btn" class="modal-cancel-btn">Ø¥Ù„ØºØ§Ø¡</button>
                </div>
            </div>
        </div>
    
        <div class="print-view" id="sv-printView">
            <div class="print-container">
                 <div class="print-logo-header">
                    <img src="https://i.ibb.co/567f2Pb/oman-vision-2040-logo.png" alt="Ø´Ø¹Ø§Ø± Ø±Ø¤ÙŠØ© Ø¹Ù…Ø§Ù† 2040" onerror="this.style.display='none'">
                    <img src="https://i.ibb.co/VMy4bJg/Oman-Ministry-of-Education-Logo-svg.png" alt="Ø´Ø¹Ø§Ø± ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ±Ø¨ÙŠØ©" onerror="this.style.display='none'">
                    <img src="https://i.ibb.co/hK0yMGH/quality-logo.png" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬ÙˆØ¯Ø©" onerror="this.style.display='none'">
                </div>
                <div class="print-header-text">Ù†Ù…ÙˆØ°Ø¬ Ø±Ù‚Ù… (5) Ø§Ø³ØªÙ…Ø§Ø±Ø© Ø²ÙŠØ§Ø±Ø© Ø¥Ø´Ø±Ø§ÙÙŠØ© Ù„Ù…Ø¹Ù„Ù… Ù…Ø§Ø¯Ø© - Ù…Ø¬Ø§Ù„</div>
                <div class="print-title"><h2>Ø§Ø³ØªÙ…Ø§Ø±Ø© Ø²ÙŠØ§Ø±Ø© Ø¥Ø´Ø±Ø§ÙÙŠØ© Ù„Ù…Ø¹Ù„Ù… Ù…Ø§Ø¯Ø©/Ù…Ø¬Ø§Ù„</h2></div>
                
                <table class="print-info-table">
                    <tbody>
                        <tr><td class="label">Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ù„Ù…:</td><td class="value" id="sv-print-teacherName"></td><td class="label">Ø§Ù„Ù…Ø¯Ø±Ø³Ø©:</td><td class="value" id="sv-print-school"></td></tr>
                        <tr><td class="label">Ø§Ù„Ù…Ø§Ø¯Ø©/Ø§Ù„Ù…Ø¬Ø§Ù„:</td><td class="value" id="sv-print-subject"></td><td class="label">Ø±Ù‚Ù… Ø§Ù„Ù…Ù„Ù:</td><td class="value" id="sv-print-fileNumber"></td></tr>
                        <tr><td class="label">Ø§Ù„ØªØ§Ø±ÙŠØ®:</td><td class="value" id="sv-print-visitDate"></td><td class="label">Ø±Ù‚Ù… Ø§Ù„Ø²ÙŠØ§Ø±Ø©:</td><td class="value" id="sv-print-visitNumber"></td></tr>
                        <tr><td class="label">Ø§Ù„Ø­ØµØ©:</td><td class="value" id="sv-print-lesson"></td><td class="label">Ø§Ù„ØµÙ:</td><td class="value" id="sv-print-class"></td></tr>
                        <tr><td class="label">Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹:</td><td colspan="3" class="value" id="sv-print-topic"></td></tr>
                    </tbody>
                </table>
                
                <table class="print-main-table">
                    <thead>
                        <tr>
                            <th style="width: 20%;">Ø§Ù„Ù…Ø¬Ø§Ù„</th>
                            <th style="width: 15%;">Ø§Ù„Ù…Ø¹ÙŠØ§Ø±</th>
                            <th style="width: 3%;">Ù…</th>
                            <th>Ø§Ù„Ø¨Ù†Ø¯</th>
                            <th style="width: 7%;">Ø§Ù„ØªÙ‚Ø¯ÙŠØ±</th>
                        </tr>
                    </thead>
                    <tbody id="sv-print-main-tbody">
                    </tbody>
                </table>
    
                <div class="report-section-print">
                    <h3>Ø¬ÙˆØ§Ù†Ø¨ Ø§Ù„Ø¥Ø¬Ø§Ø¯Ø© ÙÙŠ Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ£Ø¯Ù„ØªÙ‡Ø§:</h3>
                    <div id="sv-print-strengthsContent" class="print-report-box"></div>
                </div>
                <div class="report-section-print">
                    <h3>Ø§Ù„Ø¬ÙˆØ§Ù†Ø¨ Ø§Ù„ØªÙŠ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ·ÙˆÙŠØ± ÙÙŠ Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ£Ø¯Ù„ØªÙ‡Ø§:</h3>
                    <div id="sv-print-developmentContent" class="print-report-box"></div>
                </div>
                <div class="report-section-print">
                    <h3>Ø§Ù„ØªÙˆØµÙŠØ§Øª:</h3>
                    <div id="sv-print-recommendationsContent" class="print-report-box"></div>
                </div>
    
                <div class="signature-section">
                    Ø§Ø³Ù… Ø§Ù„Ø²Ø§Ø¦Ø±: <span id="sv-print-visitorName" class="line"></span><br><br>
                    Ø§Ù„ÙˆØ¸ÙŠÙØ©: <span id="sv-print-visitorPosition" class="line"></span>
                </div>
                <div class="evaluation-standard">
                    â— Ù…Ø¹ÙŠØ§Ø± Ø§Ù„ØªÙ‚ÙŠÙŠÙ…: 1- Ù…ØªÙ…ÙŠØ²ØŒ 2- Ø¬ÙŠØ¯ØŒ 3- Ù…Ù„Ø§Ø¦Ù…ØŒ 4- ØºÙŠØ± Ù…Ù„Ø§Ø¦Ù…ØŒ 5- ÙŠØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ¯Ø®Ù„ Ø³Ø±ÙŠØ¹
                </div>
            </div>
        </div>
    </div>


    <!-- School Visits App Container -->
    <div id="schoolVisitsApp" class="hidden">
        <div id="schoolDashboardView" class="container mx-auto max-w-4xl p-6 md:p-8 my-10 bg-white rounded-2xl shadow-lg">
            <header class="flex flex-col sm:flex-row justify-between items-center mb-4 border-b pb-4 gap-4">
                <div>
                    <h1 class="text-3xl font-bold text-gray-800">Ø³Ø¬Ù„ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</h1>
                    <p id="userEmailDisplay" class="text-gray-500 mt-2">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>
                </div>
                <div class="flex items-center gap-4 w-full sm:w-auto">
                    <button id="backToWelcomeFromSchool" class="text-gray-700 bg-white border border-gray-300 hover:bg-gray-100 font-medium rounded-lg text-sm px-6 py-3 whitespace-nowrap transition-colors">
                        Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                    </button>
                    <button id="addNewReportBtn" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-6 py-3 whitespace-nowrap transition-colors">
                        + ØªÙ‚Ø±ÙŠØ± Ø¬Ø¯ÙŠØ¯
                    </button>
                </div>
            </header>
            <div id="reportsListContainer">
                 <div class="text-center py-10 px-6 bg-gray-50 rounded-lg"><h3 class="text-lg font-semibold text-gray-700">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±...</h3></div>
            </div>
        </div>
        <div id="schoolFormView" class="container mx-auto max-w-4xl p-6 md:p-8 my-10 bg-white rounded-2xl shadow-lg hidden no-print">
            <header class="text-center mb-8">
                <h1 id="formTitle" class="text-3xl font-bold text-gray-800">Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ± Ø²ÙŠØ§Ø±Ø© Ù…Ø¯Ø±Ø³ÙŠØ©</h1>
                <p class="text-gray-500 mt-2">Ù†Ù…ÙˆØ°Ø¬ Ù„ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ©</p>
            </header>
            <form id="reportForm" class="space-y-8">
                <input type="hidden" id="reportId" value="">
                <fieldset class="border p-6 rounded-lg bg-gray-50/50">
                    <legend class="text-lg font-semibold text-gray-700 px-2">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©</legend>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                        <div>
                            <label for="schoolName" class="block mb-2 text-sm font-medium text-gray-900">Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø³Ø©</label>
                            <select id="schoolName" name="schoolName" class="bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" required>
                                 <option value="" selected disabled>Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯Ø±Ø³Ø©</option>
                                 <option value="Ø£Ø¨Ùˆ Ø§Ù„Ù‚Ø§Ø³Ù… Ø§Ù„Ø²Ù‡Ø±Ø§ÙˆÙŠ">Ø£Ø¨Ùˆ Ø§Ù„Ù‚Ø§Ø³Ù… Ø§Ù„Ø²Ù‡Ø±Ø§ÙˆÙŠ</option>
                                 <option value="Ø£Ø¨Ùˆ Ø£ÙŠÙˆØ¨ Ø§Ù„Ø­Ø¶Ø±Ù…ÙŠ">Ø£Ø¨Ùˆ Ø£ÙŠÙˆØ¨ Ø§Ù„Ø­Ø¶Ø±Ù…ÙŠ</option>
                                 <option value="Ø£Ø¨Ùˆ ØªÙ…Ø§Ù…">Ø£Ø¨Ùˆ ØªÙ…Ø§Ù…</option>
                                 <option value="Ø£Ø­Ù…Ø¯ Ø¨Ù† Ø§Ù„Ù†Ø¹Ù…Ø§Ù†">Ø£Ø­Ù…Ø¯ Ø¨Ù† Ø§Ù„Ù†Ø¹Ù…Ø§Ù†</option>
                                 <option value="Ø§Ù„Ø´ÙŠØ® Ø³Ø§Ù„Ù… Ø§Ù„Ø³ÙŠØ§Ø¨ÙŠ">Ø§Ù„Ø´ÙŠØ® Ø³Ø§Ù„Ù… Ø§Ù„Ø³ÙŠØ§Ø¨ÙŠ</option>
                                 <option value="Ø§Ù„Ø´ÙŠØ® Ø³Ø¹ÙŠØ¯ Ø§Ù„ÙƒÙ†Ø¯ÙŠ Ù…Ø³Ø§Ø¦ÙŠ">Ø§Ù„Ø´ÙŠØ® Ø³Ø¹ÙŠØ¯ Ø§Ù„ÙƒÙ†Ø¯ÙŠ Ù…Ø³Ø§Ø¦ÙŠ</option>
                                 <option value="Ø§Ù„Ø´ÙŠØ® Ù†Ø§ØµØ± Ø§Ù„Ø®Ø±ÙˆØµÙŠ">Ø§Ù„Ø´ÙŠØ® Ù†Ø§ØµØ± Ø§Ù„Ø®Ø±ÙˆØµÙŠ</option>
                                 <option value="Ø¬Ù†Ø§Ø¯Ø© Ø§Ù„Ø§Ø²Ø¯Ù‰ (Ù…ÙˆØ³Ù‰ Ø³Ø§Ø¨Ù‚Ø§)">Ø¬Ù†Ø§Ø¯Ø© Ø§Ù„Ø§Ø²Ø¯Ù‰ (Ù…ÙˆØ³Ù‰ Ø³Ø§Ø¨Ù‚Ø§)</option>
                                 <option value="Ø­ÙØµ Ø¨Ù† Ø±Ø§Ø´Ø¯">Ø­ÙØµ Ø¨Ù† Ø±Ø§Ø´Ø¯</option>
                                 <option value="Ø®Ø±ÙŠØ³ Ø§Ù„Ø­Ø¨ÙˆØ³">Ø®Ø±ÙŠØ³ Ø§Ù„Ø­Ø¨ÙˆØ³</option>
                                 <option value="Ø³Ù‡ÙŠÙ„ Ø¨Ù† Ø¹Ù…Ø±Ùˆ Ø§Ù„Ø¹Ø§Ù…Ø±ÙŠ">Ø³Ù‡ÙŠÙ„ Ø¨Ù† Ø¹Ù…Ø±Ùˆ Ø§Ù„Ø¹Ø§Ù…Ø±ÙŠ</option>
                                 <option value="ÙƒØ¹Ø¨ Ø¨Ù† Ø²ÙŠØ¯">ÙƒØ¹Ø¨ Ø¨Ù† Ø²ÙŠØ¯</option>
                                 <option value="ÙŠØ²ÙŠØ¯ Ø§Ù„Ø·Ø§Ø¦ÙŠ">ÙŠØ²ÙŠØ¯ Ø§Ù„Ø·Ø§Ø¦ÙŠ</option>
                                 <option value="Ø§Ø¬ÙŠØ§Ù„ Ø§Ù„Ø«Ù‚Ø§ÙØ©">Ø§Ø¬ÙŠØ§Ù„ Ø§Ù„Ø«Ù‚Ø§ÙØ©</option>
                                 <option value="Ø§Ø¬ÙŠØ§Ù„ Ø§Ù„ÙØ±Ø¯ÙˆØ³ - Ø§Ù„Ø­ÙŠÙ„">Ø§Ø¬ÙŠØ§Ù„ Ø§Ù„ÙØ±Ø¯ÙˆØ³ - Ø§Ù„Ø­ÙŠÙ„</option>
                                 <option value="Ø§Ù„Ø¨ÙŠØ§Ù†">Ø§Ù„Ø¨ÙŠØ§Ù†</option>
                                 <option value="Ø§Ù„Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø¨Ø¯Ø¹">Ø§Ù„Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø¨Ø¯Ø¹</option>
                                 <option value="Ø§Ù„Ø±ÙŠØ§Ø¯Ø©">Ø§Ù„Ø±ÙŠØ§Ø¯Ø©</option>
                                 <option value="Ø§Ù„Ø³Ø±Ø§Ø¬">Ø§Ù„Ø³Ø±Ø§Ø¬</option>
                                 <option value="Ø§Ù„ØµÙÙˆØ© Ø§Ù„Ù…Ø¹Ø¨ÙŠÙ„Ø©">Ø§Ù„ØµÙÙˆØ© Ø§Ù„Ù…Ø¹Ø¨ÙŠÙ„Ø©</option>
                                 <option value="Ø§Ù„Ù…Ø¬Ø¯">Ø§Ù„Ù…Ø¬Ø¯</option>
                                 <option value="Ø§Ù†Ø³ Ø¨Ù† Ù…Ø§Ù„Ùƒ (Ø§Ù„Ù…Ù†Ø§Ø± Ø³Ø§Ø¨Ù‚Ø§)">Ø§Ù†Ø³ Ø¨Ù† Ù…Ø§Ù„Ùƒ (Ø§Ù„Ù…Ù†Ø§Ø± Ø³Ø§Ø¨Ù‚Ø§)</option>
                                 <option value="Ø¬ÙŠÙØ± Ø¨Ù† Ø§Ù„Ø¬Ù„Ù†Ø¯ÙŠ">Ø¬ÙŠÙØ± Ø¨Ù† Ø§Ù„Ø¬Ù„Ù†Ø¯ÙŠ</option>
                                 <option value="Ø¶ÙŠØ§Ø¡ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„">Ø¶ÙŠØ§Ø¡ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„</option>
                                 <option value="Ù…Ø´Ø§Ø¹Ù„ Ù…Ø³Ù‚Ø· Ø³ÙˆØ± Ø§Ù„Ø­Ø¯ÙŠØ¯">Ù…Ø´Ø§Ø¹Ù„ Ù…Ø³Ù‚Ø· Ø³ÙˆØ± Ø§Ù„Ø­Ø¯ÙŠØ¯</option>
                                 <option value="Ù…Ù†Ø§Ø¨Ø¹ Ø§Ù„ØªÙÙˆÙ‚">Ù…Ù†Ø§Ø¨Ø¹ Ø§Ù„ØªÙÙˆÙ‚</option>
                            </select>
                        </div>
                        <div>
                            <label for="visitDate" class="block mb-2 text-sm font-medium text-gray-900">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø²ÙŠØ§Ø±Ø©</label>
                            <input type="date" id="visitDate" name="visitDate" class="bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" required>
                        </div>
                    </div>
                </fieldset>
                <fieldset class="border p-6 rounded-lg bg-gray-50/50">
                    <legend class="text-lg font-semibold text-gray-700 px-2">Ù†ÙˆØ¹ Ø§Ù„Ø²ÙŠØ§Ø±Ø©</legend>
                    <div class="flex items-center gap-4 mt-2">
                        <select id="visitTypeSelect" class="bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"></select>
                        <button type="button" id="manageVisitTypesBtn" class="p-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg border hover:bg-gray-200 transition-colors whitespace-nowrap">
                            âš™ï¸ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù†ÙˆØ§Ø¹
                        </button>
                    </div>
                </fieldset>
                <fieldset class="border p-6 rounded-lg bg-gray-50/50">
                    <div class="flex justify-between items-center mb-4">
                        <legend class="text-lg font-semibold text-gray-700 px-2">Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø²ÙŠØ§Ø±Ø©</legend>
                        <button type="button" id="selectAllObjectivesBtn" class="text-sm font-medium text-blue-600 hover:underline">Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙƒÙ„</button>
                    </div>
                    <div id="objectivesContainer" class="space-y-4"></div>
                </fieldset>
                <fieldset class="border p-6 rounded-lg bg-gray-50/50">
                    <legend class="text-lg font-semibold text-gray-700 px-2">Ø±Ø£ÙŠ Ø§Ù„Ø²Ø§Ø¦Ø±</legend>
                    <p class="text-sm text-gray-500 mb-4">Ø§ÙƒØªØ¨ Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙƒ Ù„ÙƒÙ„ Ù‡Ø¯Ù Ù…Ù† Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© Ø£Ø¹Ù„Ø§Ù‡.</p>
                    <div id="opinionsContainer" class="space-y-6"></div>
                </fieldset>
                <fieldset class="border p-6 rounded-lg bg-gray-50/50">
                    <legend class="text-lg font-semibold text-gray-700 px-2">Ø§Ù„ØªÙˆØµÙŠØ§Øª</legend>
                    <div class="mt-4">
                        <div class="flex items-center justify-between mb-2 gap-4 flex-wrap">
                            <label for="recommendations" class="block text-sm font-medium text-gray-900 sr-only">Ø§Ù„ØªÙˆØµÙŠØ§Øª</label>
                            <div class="flex gap-4">
                                <button type="button" id="generate-recommendations-btn" class="flex items-center text-sm text-blue-600 font-semibold hover:text-blue-800 transition-colors">
                                    ğŸ“‹ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªÙˆØµÙŠØ§Øª
                                </button>
                            </div>
                        </div>
                        <textarea id="recommendations" name="recommendations" rows="5" class="block p-2.5 w-full text-sm text-gray-900 bg-white rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„ØªÙˆØµÙŠØ§Øª ÙˆØ§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù… Ø²Ø± Ø§Ù„ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ..."></textarea>
                    </div>
                </fieldset>
                <fieldset class="border p-6 rounded-lg bg-gray-50/50">
                    <legend class="text-lg font-semibold text-gray-700 px-2">Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</legend>
                    <p class="text-sm text-gray-500 mb-4">Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª ÙŠØªÙ… Ø­ÙØ¸Ù‡Ø§ Ù…Ø­Ù„ÙŠØ§Ù‹ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­ ÙÙ‚Ø· ÙˆÙ„Ø§ ÙŠØªÙ… Ø±ÙØ¹Ù‡Ø§ Ù„Ù„Ø³Ø­Ø§Ø¨Ø© Ø­Ø§Ù„ÙŠØ§Ù‹.</p>
                    <div class="mt-4">
                        <label for="attachmentsInput" class="block mb-2 text-sm font-medium text-gray-900">Ø§Ø®ØªØ± Ù…Ù„ÙØ§Øª (ØµÙˆØ±ØŒ Ù…Ø³ØªÙ†Ø¯Ø§Øª...)</label>
                        <input type="file" id="attachmentsInput" multiple class="block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none">
                        <div id="attachmentsList" class="mt-4 space-y-2"></div>
                    </div>
                </fieldset>
                <div class="flex justify-end pt-4 gap-4">
                    <button type="button" id="backToDashboardBtn" class="text-gray-900 bg-white border border-gray-300 hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 font-medium rounded-lg text-sm w-full sm:w-auto px-8 py-3 text-center transition-colors">Ø¥Ù„ØºØ§Ø¡</button>
                    <button type="button" id="prepareReportBtn" class="text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm w-full sm:w-auto px-8 py-3 text-center transition-colors">Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ±</button>
                    <button type="submit" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-8 py-3 text-center transition-colors">Ø­ÙØ¸ Ø§Ù„ØªÙ‚Ø±ÙŠØ±</button>
                </div>
            </form>
        </div>
        <div id="reportPreviewContainer" class="container mx-auto max-w-4xl p-6 md:p-8 my-10 bg-white rounded-2xl shadow-lg hidden">
            <div id="reportContent" class="prose max-w-none prose-p:my-1 prose-ol:my-1 prose-h3:my-3"></div>
            <div class="flex justify-end pt-6 mt-6 border-t no-print gap-4 flex-wrap">
                <button id="backToBtn" class="text-gray-900 bg-white border border-gray-300 hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 font-medium rounded-lg text-sm px-8 py-3 text-center transition-colors">Ø±Ø¬ÙˆØ¹</button>
                <button id="copyAllBtn" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-8 py-3 text-center transition-colors">Ù†Ø³Ø® Ø§Ù„ÙƒÙ„</button>
                <button onclick="window.print()" class="text-white bg-gray-800 hover:bg-gray-900 focus:ring-4 focus:outline-none focus:ring-gray-300 font-medium rounded-lg text-sm px-8 py-3 text-center transition-colors">Ø·Ø¨Ø§Ø¹Ø©</button>
            </div>
        </div>
        <div id="manageTypesModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50 modal-backdrop">
            <div class="relative top-1/2 -translate-y-1/2 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white modal-content">
                <div class="flex justify-between items-center border-b pb-3">
                    <h3 class="text-lg leading-6 font-medium text-gray-900">Ø¥Ø¯Ø§Ø±Ø© Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª</h3>
                    <button id="closeManageModalBtn" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                    </button>
                </div>
                <div class="mt-4">
                    <div id="visitTypesList" class="space-y-2 max-h-60 overflow-y-auto pr-2"></div>
                    <div class="mt-6 pt-4 border-t">
                        <button id="addNewTypeBtn" class="w-full text-white bg-blue-600 hover:bg-blue-700 font-medium rounded-lg text-sm px-5 py-2.5 text-center">Ø¥Ø¶Ø§ÙØ© Ù†ÙˆØ¹ Ø²ÙŠØ§Ø±Ø© Ø¬Ø¯ÙŠØ¯</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="addEditTypeModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50 modal-backdrop">
            <div class="relative top-1/2 -translate-y-1/2 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white modal-content">
                <h3 id="addEditModalTitle" class="text-lg leading-6 font-medium text-gray-900 mb-4"></h3>
                <form id="addEditTypeForm">
                    <input type="hidden" id="editTypeKey" value="">
                    <div>
                        <label for="typeName" class="block mb-2 text-sm font-medium text-gray-900">Ø§Ø³Ù… Ù†ÙˆØ¹ Ø§Ù„Ø²ÙŠØ§Ø±Ø©</label>
                        <input type="text" id="typeName" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" required>
                    </div>
                    <div class="mt-4">
                        <label for="typeObjectives" class="block mb-2 text-sm font-medium text-gray-900">Ø§Ù„Ø£Ù‡Ø¯Ø§Ù (ÙƒÙ„ Ù‡Ø¯Ù ÙÙŠ Ø³Ø·Ø±)</label>
                        <textarea id="typeObjectives" rows="8" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500" required></textarea>
                    </div>
                    <div class="items-center px-4 py-3 gap-3 flex justify-end mt-4 border-t pt-4">
                        <button id="saveTypeBtn" type="submit" class="px-4 py-2 bg-green-500 text-white text-base font-medium rounded-md w-auto shadow-sm hover:bg-green-700">Ø­ÙØ¸</button>
                        <button id="cancelEditBtn" type="button" class="px-4 py-2 bg-gray-200 text-gray-800 text-base font-medium rounded-md w-auto shadow-sm hover:bg-gray-300">Ø¥Ù„ØºØ§Ø¡</button>
                    </div>
                </form>
            </div>
        </div>
        <div id="confirmationModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50 modal-backdrop">
            <div class="relative top-1/2 -translate-y-1/2 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white modal-content">
                <div class="mt-3 text-center">
                    <h3 class="text-lg leading-6 font-medium text-gray-900" id="confirmationModalTitle">Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ</h3>
                    <div class="mt-2 px-7 py-3">
                        <p class="text-sm text-gray-500" id="confirmationModalMessage"></p>
                    </div>
                    <div class="items-center px-4 py-3 gap-3 flex justify-center">
                        <button id="confirmActionBtn" class="px-4 py-2 bg-red-500 text-white text-base font-medium rounded-md w-auto shadow-sm hover:bg-red-700">
                            Ù†Ø¹Ù…, Ø­Ø°Ù
                        </button>
                        <button id="cancelActionBtn" type="button" class="px-4 py-2 bg-gray-200 text-gray-800 text-base font-medium rounded-md w-auto shadow-sm hover:bg-gray-300">
                            Ø¥Ù„ØºØ§Ø¡
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script type="module">
        import { initializeApp, getApp, getApps } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc, addDoc, updateDoc, deleteDoc, onSnapshot, collection, query, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        
        // --- VIEW MANAGEMENT ---
        const welcomeView = document.getElementById('welcomeView');
        const supervisoryApp = document.getElementById('supervisoryVisitsApp');
        const schoolApp = document.getElementById('schoolVisitsApp');

        function showView(view) {
            welcomeView.classList.add('hidden');
            supervisoryApp.classList.add('hidden');
            schoolApp.classList.add('hidden');
            view.classList.remove('hidden');
        }

        document.getElementById('showSupervisoryAppBtn').addEventListener('click', () => showView(supervisoryApp));
        document.getElementById('showSchoolAppBtn').addEventListener('click', () => showView(schoolApp));
        document.getElementById('backToWelcomeFromSupervisory').addEventListener('click', () => showView(welcomeView));
        
        const backToWelcomeFromSchoolDashboard = schoolApp.querySelector('#schoolDashboardView #backToWelcomeFromSchool');
        if(backToWelcomeFromSchoolDashboard) {
            backToWelcomeFromSchoolDashboard.addEventListener('click', () => showView(welcomeView));
        }

        // --- SUPERVISORY VISITS APP CODE ---
        function initializeSupervisoryApp(db, auth) {
             let userId, unsubscribeReports = null, unsubscribeVisitorData = null;
            // ... All the code from the previous supervisory app version ...
            let performanceChartInstance;
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            const recognition = SpeechRecognition ? new SpeechRecognition() : null;
            if (recognition) {
                recognition.continuous = false;
                recognition.lang = 'ar-SA';
                recognition.interimResults = false;
                recognition.maxAlternatives = 1;
            }

            const schoolsList = [ "Ø£Ø¨Ùˆ Ø§Ù„Ù‚Ø§Ø³Ù… Ø§Ù„Ø²Ù‡Ø±Ø§ÙˆÙŠ", "Ø£Ø¨Ùˆ Ø£ÙŠÙˆØ¨ Ø§Ù„Ø­Ø¶Ø±Ù…ÙŠ", "Ø£Ø¨Ùˆ ØªÙ…Ø§Ù…", "Ø£Ø­Ù…Ø¯ Ø¨Ù† Ø§Ù„Ù†Ø¹Ù…Ø§Ù†", "Ø§Ù„Ø´ÙŠØ® Ø³Ø§Ù„Ù… Ø§Ù„Ø³ÙŠØ§Ø¨ÙŠ", "Ø§Ù„Ø´ÙŠØ® Ø³Ø¹ÙŠØ¯ Ø§Ù„ÙƒÙ†Ø¯ÙŠ", "Ø§Ù„Ø´ÙŠØ® Ù†Ø§ØµØ± Ø§Ù„Ø®Ø±ÙˆØµÙŠ", "Ø¬Ù†Ø§Ø¯Ø© Ø§Ù„Ø§Ø²Ø¯ÙŠ", "Ø­ÙØµ Ø¨Ù† Ø±Ø§Ø´Ø¯", "Ø®Ø±ÙŠØ³ Ø§Ù„Ø­Ø¨ÙˆØ³", "Ø³Ù‡ÙŠÙ„ Ø¨Ù† Ø¹Ù…Ø±Ùˆ Ø§Ù„Ø¹Ø§Ù…Ø±ÙŠ", "ÙƒØ¹Ø¨ Ø¨Ù† Ø²ÙŠØ¯", "ÙŠØ²ÙŠØ¯ Ø§Ù„Ø·Ø§Ø¦ÙŠ", "Ø£Ø¬ÙŠØ§Ù„ Ø§Ù„Ø«Ù‚Ø§ÙØ©", "Ø£Ø¬ÙŠØ§Ù„ Ø§Ù„ÙØ±Ø¯ÙˆØ³ â€“ Ø§Ù„Ø­ÙŠÙ„", "Ø§Ù„Ø¨ÙŠØ§Ù†", "Ø§Ù„Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø¨Ø¯Ø¹", "Ø§Ù„Ø±ÙŠØ§Ø¯Ø©", "Ø§Ù„ØµÙÙˆØ© -Ø§Ù„Ù…Ø¹Ø¨ÙŠÙ„Ø©", "Ø§Ù„Ù…Ø¬Ø¯", "Ø¬ÙŠÙØ± Ø¨Ù† Ø§Ù„Ø¬Ù„Ù†Ø¯Ù‰", "Ø§Ù„Ø³Ø±Ø§Ø¬", "Ø¶ÙŠØ§Ø¡ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„", "Ù…Ø´Ø§Ø¹Ù„ Ù…Ø³Ù‚Ø· Ø³ÙˆØ± Ø§Ù„ Ø­Ø¯ÙŠØ¯", "Ù…Ù†Ø§Ø¨Ø¹ Ø§Ù„ØªÙÙˆÙ‚" ];
            const teachersBySchool = { "Ø£Ø­Ù…Ø¯ Ø¨Ù† Ø§Ù„Ù†Ø¹Ù…Ø§Ù†": ["Ø·Ø§Ø±Ù‚ Ø¨Ù† ÙŠÙˆØ³Ù Ø¨Ù† ÙŠØ³Ù†Ø¯ Ø§Ù„Ø¨Ù„ÙˆØ´ÙŠ", "Ø¹Ù…Ø± Ø¨Ù† Ø³Ø¹ÙŠØ¯ Ø¨Ù† Ø¹Ø¨ÙŠØ¯ Ø§Ù„Ø´Ø­ÙŠ", "Ø³Ù„ÙŠÙ…Ø§Ù† Ø¨Ù† Ø³Ø§Ù„Ù… Ø¨Ù† Ù…Ø¨Ø§Ø±Ùƒ Ø§Ù„Ø±Ø²ÙŠÙ‚ÙŠ"], "Ø£Ø¨Ùˆ Ø§Ù„Ù‚Ø§Ø³Ù… Ø§Ù„Ø²Ù‡Ø±Ø§ÙˆÙŠ": ["Ø£ÙŠÙˆØ¨ Ø¨Ù† Ø³Ù„Ø·Ø§Ù† Ø¨Ù† Ù†Ø§ØµØ± Ø§Ù„ÙˆØ±Ø¯ÙŠ"], "Ø£Ø¨Ùˆ Ø§Ù„ÙØ¶Ù„ Ø§Ù„Ø²Ù‡Ø±Ø§ÙˆÙŠ": ["ÙŠØ­ÙŠÙ‰ Ø¨Ù† Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¨Ù† Ø³ÙŠÙ Ø§Ù„ÙŠÙˆØ³ÙÙŠ"], "Ø­ÙØµ Ø¨Ù† Ø±Ø§Ø´Ø¯": ["Ø³Ø¹ÙˆØ¯ Ø¨Ù† Ø³ÙŠÙ Ø¨Ù† Ù†Ø§ØµØ± Ø§Ù„Ø±Ø§Ø³Ø¨ÙŠ", "Ø³Ù„ÙŠÙ…Ø§Ù† Ø¨Ù† Ø³ÙŠÙ Ø¨Ù† Ø³Ø§Ù„Ù… Ø§Ù„ÙˆÙ‡ÙŠØ¨ÙŠ", "Ø¹Ø¨Ø¯Ø§Ù„Ø­Ù…ÙŠØ¯ Ø¨Ù† Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø³ÙˆÙ„ Ø§Ù„Ø²Ø¯Ø¬Ø§Ù„ÙŠ", "Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø£Ø­Ù…Ø¯ Ø¨Ù† Ø®Ø§Ù„Ø¯ Ø§Ù„Ø®Ø·ÙˆØ±ÙŠ", "Ø­Ù…ÙŠØ¯ Ø¨Ù† Ø­Ù…Ø¯ Ø¨Ù† Ù‡Ø¯ÙŠØ¨ Ø§Ù„Ø³Ø¹Ø¯ÙŠ"], "Ø§Ù„Ø´ÙŠØ® Ø³Ø§Ù„Ù… Ø§Ù„Ø³ÙŠØ§Ø¨ÙŠ": ["Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… Ø¨Ù† Ù†Ø§ØµØ± Ø¨Ù† Ø®Ù…ÙŠØ³ Ø§Ù„Ø¨ÙˆØ³Ø¹ÙŠØ¯ÙŠ", "ÙÙ‡Ø¯ Ø¨Ù† Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø³Ø¹ÙŠØ¯ Ø§Ù„Ø®Ø±ÙˆØµÙŠ"], "Ø£Ø¨Ùˆ Ø£ÙŠÙˆØ¨ Ø§Ù„Ø­Ø¶Ø±Ù…ÙŠ": ["Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¨Ù† Ø³Ø¹ÙŠØ¯ Ø¨Ù† Ø¹Ø§Ù…Ø± Ø§Ù„Ù‚Ù„Ø°ÙŠ"], "Ø®Ø±ÙŠØ³ Ø§Ù„Ø­Ø¨ÙˆØ³": ["ÙÙŠØµÙ„ Ø¨Ù† Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¨Ù† Ø±Ø§Ø´Ø¯ Ø§Ù„Ø­Ø±Ø¨ÙŠ", "Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¨Ù† ÙØ±Ø¬ Ø¨Ù† Ø¹Ø¨ÙŠØ¯ Ø§Ù„Ø­Ø¬Ø±ÙŠ", "Ø¹Ù…Ø± Ø³Ø§Ù„Ù… Ø´Ø¯ÙˆÙ… Ø§Ù„Ù‡Ù†Ø§Ø¦ÙŠ", "Ù‡Ø§Ø´Ù… Ø¨Ù† Ø±Ø§Ø´Ø¯ Ø¨Ù† Ø³ÙŠÙ Ø§Ù„Ù‡Ø§Ø´Ù…ÙŠ"], "Ø£Ø¨Ùˆ ØªÙ…Ø§Ù…": ["Ø§Ù„Ù…Ø¹ØªØµÙ… Ø¨Ù† Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¨Ù† Ø¹Ù„ÙŠ Ø§Ù„Ù‚Ø·ÙŠØ·ÙŠ"], "Ø§Ù„Ø´ÙŠØ® Ù†Ø§ØµØ± Ø§Ù„Ø®Ø±ÙˆØµÙŠ": ["Ø³Ø¹ÙŠØ¯ Ø¨Ù† Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø±Ø§Ø´Ø¯ Ø§Ù„ØºØ§ÙˆÙŠ Ø§Ù„Ù…Ø®Ù…Ø±ÙŠ", "Ø¹Ø¯Ù†Ø§Ù† Ø¨Ù† Ø­Ø³Ù† Ø¨Ù† ØªØ¨ÙˆÙƒ", "Ø³ÙŠÙ Ø¨Ù† Ø³Ù„ÙŠÙ…Ø§Ù† Ø¨Ù† Ø³ÙŠÙ Ø§Ù„ÙÙ‡Ø¯ÙŠ"], "ÙƒØ¹Ø¨ Ø¨Ù† Ø²ÙŠØ¯": ["Ø£Ø­Ù…Ø¯ Ø¨Ù† Ø³Ù„ÙŠÙ…Ø§Ù† Ø¨Ù† Ø³Ø§Ù„Ù… Ø§Ù„Ø­Ø³ÙŠÙ†ÙŠ", "ÙŠÙˆØ³Ù Ø¨Ù† Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¨Ù† Ø³ÙŠÙ Ø§Ù„ÙŠÙˆØ³ÙÙŠ", "Ø¹Ù„Ø§Ø¡ Ø¨Ù† Ø¹Ù„ÙŠ Ø¨Ù† Ø­Ù…Ø¯ Ø§Ù„Ø´Ø¨Ù„ÙŠ"], "Ø¬Ù†Ø§Ø¯Ø© Ø§Ù„Ø§Ø²Ø¯ÙŠ": ["Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… Ø¨Ù† Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø­Ù…ÙˆØ¯ Ø§Ù„Ø±Ø§Ø³Ø¨ÙŠ", "Ø³Ø§Ù„Ù… Ø¨Ù† Ø³Ø¹ÙŠØ¯ Ø¨Ù† Ø³Ø¹ÙŠØ¯ Ø§Ù„Ø¨ÙˆØ³Ø¹ÙŠØ¯ÙŠ", "Ø£Ø³Ø§Ù…Ø© Ø¨Ù† Ø³Ù„ÙŠÙ…Ø§Ù† Ø§Ù„Ø¯Ù‡Ù…Ø§Ù†ÙŠ", "Ù…Ø­Ù…ÙˆØ¯ Ø¨Ù† Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø®Ù„ÙØ§Ù† Ø§Ù„Ù…Ø­Ø±ÙˆÙ‚ÙŠ", "Ù…Ù†ØµÙˆØ± Ø¨Ù† Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø¬Ù…Ø¹Ù‡ Ø§Ù„ÙØ§Ø±Ø³ÙŠ"], "Ø³Ù‡ÙŠÙ„ Ø¨Ù† Ø¹Ù…Ø±Ùˆ Ø§Ù„Ø¹Ø§Ù…Ø±ÙŠ": ["Ø§Ù„Ø³Ø¹Ø¯ Ø¨Ù† Ø®Ù„ÙŠÙØ© Ø¨Ù† Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø³Ø¹Ø¯ÙŠ", "Ù…Ø­Ù…Ø¯ Ø¨Ù† Ù‚Ø§Ø³Ù… Ø¨Ù† Ø­Ù…Ø¯Ø§Ù† Ø§Ù„Ù†Ø¨Ù‡Ø§Ù†ÙŠ", "Ø±Ø§Ø´Ø¯ Ø¨Ù† Ø³Ø§Ù„Ù… Ø¨Ù† Ø®Ø§Ù„Ø¯ Ø§Ù„Ø±Ø´ÙŠØ¯ÙŠ"], "Ø§Ù„Ø´ÙŠØ® Ø³Ø¹ÙŠØ¯ Ø§Ù„ÙƒÙ†Ø¯ÙŠ": ["Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø³Ø¹ÙŠØ¯ Ø¨Ù† Ù…Ø¬Ø§Ø¯ Ø§Ù„Ø¹Ù…Ø±ÙŠ", "Ø±Ø§Ø´Ø¯ Ø¨Ù† Ø³Ø§Ù„Ù… Ø¨Ù† Ø®Ù„ÙØ§Ù† Ø§Ù„Ù…Ø´ÙŠÙØ±ÙŠ"], "Ø§Ù„ØµÙÙˆØ© -Ø§Ù„Ù…Ø¹Ø¨ÙŠÙ„Ø©": ["Ø±Ø­Ù…Ø© Ù…Ø­Ù…Ø¯ Ø´Ù„Ù‚Ø§Ù…ÙŠ"], "Ø¬ÙŠÙØ± Ø¨Ù† Ø§Ù„Ø¬Ù„Ù†Ø¯Ù‰": ["Ø¥ÙŠÙ‡Ø§Ø¨ Ù…Ø­Ø³Ù† Ù…Ø­Ù…Ø¯"], "Ø£Ø¬ÙŠØ§Ù„ Ø§Ù„Ø«Ù‚Ø§ÙØ©": ["Ø§Ø³Ù…Ø§Ø¡ Ø­Ø³Ù† Ø§Ø­Ù…Ø¯"], "Ø§Ù„Ø¨ÙŠØ§Ù†": ["Ø¬ÙŠÙ‡Ø§Ù† Ø¹Ù„ÙŠ Ù…Ø­Ù…Ø¯"], "Ø§Ù„Ù…Ø¬Ø¯": ["Ø§ÙŠÙ‡ Ø±Ø¶Ø§ Ø¹Ø¨Ø¯ Ø§Ù„ÙØªØ§Ø­ Ø§Ù„Ø¹Ù„ÙŠÙ…ÙŠ Ø­Ù„Ø§ÙˆÙ‡"], "Ø§Ù„Ø±ÙŠØ§Ø¯Ø©": ["Ø§Ø³Ù…Ø§Ø¡ Ø³Ø¹Ø¯ Ø³Ø¹Ø¯ Ø§Ø¨Ø±Ø§Ù‡ÙŠÙ… Ø³Ø¹Ø¯", "Ø­Ø³Ø§Ù… Ù…Ø­Ù…Ø¯ Ø²Ø§ÙŠØ¯"], "Ø£Ø¬ÙŠØ§Ù„ Ø§Ù„ÙØ±Ø¯ÙˆØ³ â€“ Ø§Ù„Ø­ÙŠÙ„": ["Ø±Ø­Ø§Ø¨ Ø¹Ø¨Ø¯ Ø§Ù„Ø­ÙƒÙ… Ø¹Ø¨Ø¯ Ø§Ù„Ø­Ù„ÙŠÙ…"], "Ø§Ù„Ø³Ø±Ø§Ø¬": ["Ø¹Ø°Ø±Ø§Ø¡ Ø¨Ù†Øª Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø­Ù…ÙˆØ¯ Ø§Ù„Ù…Ø§Ù„ÙƒÙŠ"], "Ø¶ÙŠØ§Ø¡ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„": ["Ø¹Ù„Ø§Ø¡ Ø§Ø­Ù…Ø¯ ÙˆØ²ÙŠØ±ÙŠ"], "Ù…Ø´Ø§Ø¹Ù„ Ù…Ø³Ù‚Ø· Ø³ÙˆØ± Ø§Ù„ Ø­Ø¯ÙŠØ¯": ["Ø¯ÙŠÙ†Ø§ Ø§Ø´Ø±Ù Ø­Ø¨ÙŠØ¨"], "Ù…Ù†Ø§Ø¨Ø¹ Ø§Ù„ØªÙÙˆÙ‚": ["Ù…Ù‡Ø§ Ù…Ø­Ù…Ø¯ Ø§Ù„Ø³ÙŠØ¯"], "Ø§Ù„Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø¨Ø¯Ø¹": ["Ø§ÙŠÙ…Ø§Ù† Ø±Ù…Ø¶Ø§Ù† Ø¹Ù„ÙŠ Ù…Ø­Ù…Ø¯ Ù‡Ù„Ø§Ù„"] };
            const evaluationItems = [ { id: 1, domain: 'Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ', standard: 'Ø§Ù„ØªØ­ØµÙŠÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ', title: 'ØªØ­ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø© ÙÙŠ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ØµÙÙŠØ© ÙˆØºÙŠØ± Ø§Ù„ØµÙÙŠØ©', desc: '(Ø§ÙƒØªØ³Ø§Ø¨ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­Ø±ÙƒÙŠØ© ÙˆØ§Ù„Ù…Ø¹Ø§Ø±Ù Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù‡Ø§)' }, { id: 2, domain: 'Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ', standard: 'Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ', title: 'Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ù„Ù„Ø·Ù„Ø¨Ø© Ø¨Ù…Ø§ ÙÙŠÙ‡Ù… Ø§Ù„Ø·Ù„Ø¨Ø© Ø°ÙˆÙŠ Ø§Ù„Ø¥Ø¹Ø§Ù‚Ø©/Ø§Ù„Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©', desc: '(ØªØ·ÙˆØ± Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ù‡Ø§Ø±ÙŠ ÙˆØ§Ù„Ø®Ø·Ø·ÙŠ)' }, { id: 3, domain: 'Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ', standard: 'Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ØªØ¹Ù„Ù…', title: 'ØªØ·Ø¨ÙŠÙ‚ Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ØªØ¹Ù„Ù… (Ø§Ù„Ø°Ø§ØªÙŠ- Ø§Ù„ØªØ¹Ø§ÙˆÙ†ÙŠ - Ø§Ù„Ø±Ù‚Ù…ÙŠ - Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø¹Ù„ÙŠØ§) ÙˆØ±Ø¨Ø·Ù‡Ø§ Ø¨Ø§Ù„ÙˆØ§Ù‚Ø¹', desc: '(Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©ØŒ Ø§Ù„ØªØ¹Ø§ÙˆÙ†ØŒ Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø®Ø·Ø·ÙŠ ÙÙŠ Ù…ÙˆØ§Ù‚Ù Ø§Ù„Ù„Ø¹Ø¨)' }, { id: 4, domain: 'Ø§Ù„Ù†Ù…Ùˆ Ø§Ù„Ø´Ø®ØµÙŠ', standard: 'Ø§Ù„Ù‚ÙŠÙ… ÙˆØ§Ù„Ø³Ù„ÙˆÙƒ', title: 'ØªÙ…Ø³Ùƒ Ø§Ù„Ø·Ù„Ø¨Ø© Ø¨Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø¹Ù…Ø§Ù†ÙŠØ© ÙˆØ§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ÙŠØ©', desc: '(Ø§Ù„Ø±ÙˆØ­ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© ÙˆØ£Ø®Ù„Ø§Ù‚ÙŠØ§Øª Ø§Ù„Ù„Ø¹Ø¨)' }, { id: 5, domain: 'Ù…Ù†Ø§Ø® Ø§Ù„Ù…Ø¯Ø±Ø³Ø© ÙˆØ¨ÙŠØ¦Ø© Ø§Ù„ØªØ¹Ù„Ù…', standard: 'Ø¬ÙˆØ¯Ø© Ø¨ÙŠØ¦Ø© Ø§Ù„ØªØ¹Ù„Ù…', title: 'Ù…ØªØ§Ø¨Ø¹Ø© Ø¬ÙˆØ§Ù†Ø¨ Ø§Ù„Ø£Ù…Ù† ÙˆØ§Ù„Ø³Ù„Ø§Ù…Ø© ÙˆØ§Ù„Ù†Ø¸Ø§ÙØ© ÙÙŠ Ø¨ÙŠØ¦Ø© Ø§Ù„ØªØ¹Ù„Ù…', desc: '(Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ø£Ø¯ÙˆØ§Øª ÙˆØ§Ù„Ù…Ø±Ø§ÙÙ‚ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©)' }, { id: 6, domain: 'Ø§Ù„ØªØ¯Ø±ÙŠØ³ ÙˆØ§Ù„ØªÙ‚ÙˆÙŠÙ…', standard: 'ØªØ®Ø·ÙŠØ· Ø§Ù„Ù…Ù†Ù‡Ø§Ø¬ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ', title: 'ØªØ®Ø·ÙŠØ· Ø§Ù„Ù…Ù†Ù‡Ø§Ø¬ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ù„ØªØ­Ù‚ÙŠÙ‚ Ù†ÙˆØ§ØªØ¬ Ø§Ù„ØªØ¹Ù„Ù…', desc: '(Ø§Ù„ØªØ®Ø·ÙŠØ· Ù„ØªÙ†Ù…ÙŠØ© Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­Ø±ÙƒÙŠØ© ÙˆØ§Ù„Ù„ÙŠØ§Ù‚Ø© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ©)' }, { id: 7, domain: 'Ø§Ù„ØªØ¯Ø±ÙŠØ³ ÙˆØ§Ù„ØªÙ‚ÙˆÙŠÙ…', standard: 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ', title: 'ÙØ§Ø¹Ù„ÙŠØ© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙÙŠØ©', desc: '(Ø¥Ø¯Ø§Ø±Ø© ÙˆØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø¨Ø¯Ù†ÙŠ)' }, { id: 8, domain: 'Ø§Ù„ØªØ¯Ø±ÙŠØ³ ÙˆØ§Ù„ØªÙ‚ÙˆÙŠÙ…', standard: 'ÙØ§Ø¹Ù„ÙŠØ© Ø§Ù„ØªØ¯Ø±ÙŠØ³', title: 'ØªÙˆØ¸ÙŠÙ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ³ Ø§Ù„ÙØ¹Ø§Ù„Ø©', desc: '(Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ³ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø¨Ø¯Ù†ÙŠ)' }, { id: 9, domain: 'Ø§Ù„ØªØ¯Ø±ÙŠØ³ ÙˆØ§Ù„ØªÙ‚ÙˆÙŠÙ…', standard: 'ÙØ§Ø¹Ù„ÙŠØ© Ø§Ù„ØªØ¯Ø±ÙŠØ³', title: 'ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…ØµØ§Ø¯Ø± ÙˆØ§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©', desc: '(Ø§Ù„Ø£Ø¯ÙˆØ§Øª ÙˆØ§Ù„Ø£Ø¬Ù‡Ø²Ø© ÙˆØ§Ù„Ù…Ø±Ø§ÙÙ‚ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©)' }, { id: 10, domain: 'Ø§Ù„ØªØ¯Ø±ÙŠØ³ ÙˆØ§Ù„ØªÙ‚ÙˆÙŠÙ…', standard: 'Ø§Ù„ØªÙ‚ÙˆÙŠÙ… ÙˆÙ…Ø³Ø§Ù†Ø¯Ø© Ø§Ù„ØªÙ‚Ø¯Ù…', title: 'ØªÙˆØ¸ÙŠÙ Ø£Ø³Ø§Ù„ÙŠØ¨ ØªÙ‚ÙˆÙŠÙ… Ù…ØªÙ†ÙˆØ¹Ø©', desc: '(ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø­Ø±ÙƒÙŠ ÙˆØ§Ù„Ù…Ù‡Ø§Ø±ÙŠ Ù„Ù„Ø·Ù„Ø¨Ø©)' }, { id: 11, domain: 'Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© ÙˆØ§Ù„Ø¥Ø¯Ø§Ø±Ø© ÙˆØ§Ù„Ø­ÙˆÙƒÙ…Ø©', standard: 'Ù‚ÙŠØ§Ø¯Ø© Ø§Ù„ØªØºÙŠÙŠØ±', title: 'ØªÙˆØ¸ÙŠÙ Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø°Ø§ØªÙŠ ÙˆØ§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ù‡Ù†ÙŠ ÙÙŠ ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡', desc: '(Ø§Ù„ØªØ£Ù…Ù„ ÙÙŠ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ³ÙŠØ© ÙˆØªØ·ÙˆÙŠØ±Ù‡Ø§)' }, { id: 12, domain: 'Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© ÙˆØ§Ù„Ø¥Ø¯Ø§Ø±Ø© ÙˆØ§Ù„Ø­ÙˆÙƒÙ…Ø©', standard: 'Ø§Ù„Ø­ÙˆÙƒÙ…Ø©', title: 'ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª ÙˆØ§Ù„Ø£Ù†Ø¸Ù…Ø© ÙˆØ§Ù„Ù„ÙˆØ§Ø¦Ø­ Ø§Ù„Ù…Ù†Ø¸Ù…Ø© Ù„Ù„Ø¹Ù…Ù„', desc: '(Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø£Ø®Ù„Ø§Ù‚ÙŠØ§Øª Ø§Ù„Ù…Ù‡Ù†Ø© ÙˆØ§Ù„Ù„ÙˆØ§Ø¦Ø­)' }, { id: 13, domain: 'Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© ÙˆØ§Ù„Ø¥Ø¯Ø§Ø±Ø© ÙˆØ§Ù„Ø­ÙˆÙƒÙ…Ø©', standard: 'Ø§Ù„Ø­ÙˆÙƒÙ…Ø©', title: 'ØªÙ†ÙÙŠØ° Ù…Ø¨Ø§Ø¯Ø±Ø§Øª ÙˆØ£Ù†Ø´Ø·Ø© ØªØ±Ø¨ÙˆÙŠØ© ÙÙŠ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ', desc: '(ØªÙ†Ø¸ÙŠÙ… Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª ÙˆØ§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©)' } ];
            const detailedDescriptions = { '1': { '1': "ÙŠØªÙ‚Ù† <span class='highlight'>Ø¬Ù…ÙŠØ¹</span> Ø§Ù„Ø·Ù„Ø¨Ø© Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­Ø±ÙƒÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙˆØ§Ù„Ù…Ø¹Ø§Ø±Ù Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù‡Ø§ØŒ ÙˆÙŠØ·Ø¨Ù‚ÙˆÙ†Ù‡Ø§ Ø¨ÙØ§Ø¹Ù„ÙŠØ© ÙÙŠ Ù…ÙˆØ§Ù‚Ù Ø§Ù„Ù„Ø¹Ø¨.", '2': "ÙŠØªÙ‚Ù† <span class='highlight'>Ù…Ø¹Ø¸Ù…</span> Ø§Ù„Ø·Ù„Ø¨Ø© Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­Ø±ÙƒÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙˆØ§Ù„Ù…Ø¹Ø§Ø±Ù Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù‡Ø§ØŒ ÙˆÙŠØ·Ø¨Ù‚ÙˆÙ†Ù‡Ø§ Ø¨ØµÙˆØ±Ø© Ø¬ÙŠØ¯Ø© ÙÙŠ Ù…ÙˆØ§Ù‚Ù Ø§Ù„Ù„Ø¹Ø¨.", '3': "ÙŠÙƒØªØ³Ø¨ <span class='highlight'>Ø£ØºÙ„Ø¨</span> Ø§Ù„Ø·Ù„Ø¨Ø© Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­Ø±ÙƒÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙˆØ§Ù„Ù…Ø¹Ø§Ø±Ù Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù‡Ø§ Ø¨Ù…Ø³ØªÙˆÙ‰ Ù…Ù„Ø§Ø¦Ù….", '4': "ÙŠÙƒØªØ³Ø¨ <span class='highlight'>Ù‚Ù„ÙŠÙ„ Ù…Ù†</span> Ø§Ù„Ø·Ù„Ø¨Ø© Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­Ø±ÙƒÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø¨ØµÙˆØ±Ø© Ù…Ø­Ø¯ÙˆØ¯Ø©ØŒ Ù…Ø¹ ØµØ¹ÙˆØ¨Ø© ÙÙŠ ØªØ·Ø¨ÙŠÙ‚Ù‡Ø§.", '5': "ÙŠØ¸Ù‡Ø± <span class='highlight'>Ø¹Ø¯Ø¯ Ù†Ø§Ø¯Ø± Ù…Ù†</span> Ø§Ù„Ø·Ù„Ø¨Ø© Ø§ÙƒØªØ³Ø§Ø¨Ù‹Ø§ Ù…Ø­Ø¯ÙˆØ¯Ù‹Ø§ Ø¬Ø¯Ù‹Ø§ Ù„Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­Ø±ÙƒÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©." }, '2': { '1': "ÙŠÙØ¸Ù‡Ø± <span class='highlight'>Ø¬Ù…ÙŠØ¹</span> Ø§Ù„Ø·Ù„Ø¨Ø©ØŒ Ø¨Ù…Ù† ÙÙŠÙ‡Ù… Ø°ÙˆÙˆ Ø§Ù„Ø§Ø­ØªÙŠØ§Ø¬Ø§ØªØŒ ØªØ·ÙˆØ±Ù‹Ø§ Ù…ØªÙ…ÙŠØ²Ù‹Ø§ ÙˆÙ…Ø³ØªÙ…Ø±Ù‹Ø§ ÙÙŠ Ø£Ø¯Ø§Ø¦Ù‡Ù… Ø§Ù„Ù…Ù‡Ø§Ø±ÙŠ ÙˆØ§Ù„Ø®Ø·Ø·ÙŠ ÙˆØ§Ù„Ù„ÙŠØ§Ù‚ÙŠ.", '2': "ÙŠÙØ¸Ù‡Ø± <span class='highlight'>Ù…Ø¹Ø¸Ù…</span> Ø§Ù„Ø·Ù„Ø¨Ø© ØªØ·ÙˆØ±Ù‹Ø§ Ø¬ÙŠØ¯Ù‹Ø§ ÙÙŠ Ø£Ø¯Ø§Ø¦Ù‡Ù… Ø§Ù„Ù…Ù‡Ø§Ø±ÙŠ ÙˆØ§Ù„Ø®Ø·Ø·ÙŠ ÙˆØ§Ù„Ù„ÙŠØ§Ù‚ÙŠ.", '3': "ÙŠÙØ¸Ù‡Ø± <span class='highlight'>Ø£ØºÙ„Ø¨</span> Ø§Ù„Ø·Ù„Ø¨Ø© ØªØ·ÙˆØ±Ù‹Ø§ Ù…Ù„Ø§Ø¦Ù…Ù‹Ø§ ÙÙŠ Ø£Ø¯Ø§Ø¦Ù‡Ù… Ø§Ù„Ù…Ù‡Ø§Ø±ÙŠ ÙˆØ§Ù„Ø®Ø·Ø·ÙŠ.", '4': "ÙŠÙØ¸Ù‡Ø± <span class='highlight'>Ù‚Ù„ÙŠÙ„ Ù…Ù†</span> Ø§Ù„Ø·Ù„Ø¨Ø© ØªØ·ÙˆØ±Ù‹Ø§ Ù…Ø­Ø¯ÙˆØ¯Ù‹Ø§ ÙÙŠ Ø£Ø¯Ø§Ø¦Ù‡Ù… Ø§Ù„Ù…Ù‡Ø§Ø±ÙŠ ÙˆØ§Ù„Ø®Ø·Ø·ÙŠ.", '5': "ÙŠÙØ¸Ù‡Ø± <span class='highlight'>Ø¹Ø¯Ø¯ Ù†Ø§Ø¯Ø± Ù…Ù†</span> Ø§Ù„Ø·Ù„Ø¨Ø© ØªØ·ÙˆØ±Ù‹Ø§ Ù…Ø­Ø¯ÙˆØ¯Ù‹Ø§ Ø¬Ø¯Ù‹Ø§ Ø£Ùˆ Ù…Ø¹Ø¯ÙˆÙ…Ù‹Ø§ ÙÙŠ Ø§Ù„Ø£Ø¯Ø§Ø¡." }, '3': { '1': "ÙŠÙˆØ¸Ù <span class='highlight'>Ø¬Ù…ÙŠØ¹</span> Ø§Ù„Ø·Ù„Ø¨Ø© Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© ÙˆØ§Ù„ØªØ¹Ø§ÙˆÙ† ÙˆØ§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø®Ø·Ø·ÙŠ Ø¨ÙØ§Ø¹Ù„ÙŠØ© Ù…ØªÙ…ÙŠØ²Ø© ÙÙŠ Ù…ÙˆØ§Ù‚Ù Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ù…Ø®ØªÙ„ÙØ©.", '2': "ÙŠÙˆØ¸Ù <span class='highlight'>Ù…Ø¹Ø¸Ù…</span> Ø§Ù„Ø·Ù„Ø¨Ø© Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ØªØ¹Ø§ÙˆÙ† ÙˆØ§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø®Ø·Ø·ÙŠ Ø¨ØµÙˆØ±Ø© Ø¬ÙŠØ¯Ø© ÙÙŠ Ù…ÙˆØ§Ù‚Ù Ø§Ù„Ù„Ø¹Ø¨.", '3': "ÙŠÙˆØ¸Ù <span class='highlight'>Ø£ØºÙ„Ø¨</span> Ø§Ù„Ø·Ù„Ø¨Ø© Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ØªØ¹Ø§ÙˆÙ† ÙˆØ§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø®Ø·Ø·ÙŠ Ø¨Ù…Ø³ØªÙˆÙ‰ Ù…Ù„Ø§Ø¦Ù….", '4': "ÙŠØ¸Ù‡Ø± Ù„Ø¯Ù‰ <span class='highlight'>Ù‚Ù„ÙŠÙ„ Ù…Ù†</span> Ø§Ù„Ø·Ù„Ø¨Ø© ØªÙˆØ¸ÙŠÙ Ù…Ø­Ø¯ÙˆØ¯ Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ØªØ¹Ø§ÙˆÙ† ÙˆØ§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø®Ø·Ø·ÙŠ.", '5': "ÙŠØ¸Ù‡Ø± Ù„Ø¯Ù‰ <span class='highlight'>Ø¹Ø¯Ø¯ Ù†Ø§Ø¯Ø± Ù…Ù†</span> Ø§Ù„Ø·Ù„Ø¨Ø© ØªÙˆØ¸ÙŠÙ Ù…Ø­Ø¯ÙˆØ¯ Ø¬Ø¯Ù‹Ø§ Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ØªØ¹Ø§ÙˆÙ† ÙˆØ§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø®Ø·Ø·ÙŠ." }, '4': { '1': "ÙŠÙ„ØªØ²Ù… <span class='highlight'>Ø¬Ù…ÙŠØ¹</span> Ø§Ù„Ø·Ù„Ø¨Ø© Ø¨Ù‚ÙŠÙ… Ø§Ù„Ø±ÙˆØ­ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© ÙˆØ§Ù„Ø§Ø­ØªØ±Ø§Ù… Ø§Ù„Ù…ØªØ¨Ø§Ø¯Ù„ ÙˆØ§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ù†Ø¸ÙŠÙ Ø¨Ù…Ø³ØªÙˆÙ‰ Ù…ØªÙ…ÙŠØ².", '2': "ÙŠÙ„ØªØ²Ù… <span class='highlight'>Ù…Ø¹Ø¸Ù…</span> Ø§Ù„Ø·Ù„Ø¨Ø© Ø¨Ù‚ÙŠÙ… Ø§Ù„Ø±ÙˆØ­ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© ÙˆØ§Ù„Ø§Ø­ØªØ±Ø§Ù… Ø§Ù„Ù…ØªØ¨Ø§Ø¯Ù„ ÙˆØ§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ù†Ø¸ÙŠÙ.", '3': "ÙŠÙ„ØªØ²Ù… <span class='highlight'>Ø£ØºÙ„Ø¨</span> Ø§Ù„Ø·Ù„Ø¨Ø© Ø¨Ù‚ÙŠÙ… Ø§Ù„Ø±ÙˆØ­ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© ÙˆØ§Ù„Ø§Ø­ØªØ±Ø§Ù… Ø§Ù„Ù…ØªØ¨Ø§Ø¯Ù„.", '4': "ÙŠØ¸Ù‡Ø± <span class='highlight'>Ù‚Ù„ÙŠÙ„ Ù…Ù†</span> Ø§Ù„Ø·Ù„Ø¨Ø© Ø§Ù„ØªØ²Ø§Ù…Ù‹Ø§ Ù…Ø­Ø¯ÙˆØ¯Ù‹Ø§ Ø¨Ù‚ÙŠÙ… Ø§Ù„Ø±ÙˆØ­ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© ÙˆØ§Ù„Ø§Ø­ØªØ±Ø§Ù….", '5': "ÙŠØ¸Ù‡Ø± <span class='highlight'>Ø¹Ø¯Ø¯ Ù†Ø§Ø¯Ø± Ù…Ù†</span> Ø§Ù„Ø·Ù„Ø¨Ø© Ø³Ù„ÙˆÙƒÙŠØ§Øª ØªØªÙ†Ø§ÙÙ‰ Ù…Ø¹ Ù‚ÙŠÙ… Ø§Ù„Ø±ÙˆØ­ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©." }, '5': { '1': "ÙŠØ¶Ù…Ù† Ø§Ù„Ù…Ø¹Ù„Ù… Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ø£Ø¯ÙˆØ§Øª ÙˆØ§Ù„Ù…Ø±Ø§ÙÙ‚ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©ØŒ ÙˆÙŠÙˆÙØ± Ø¨ÙŠØ¦Ø© ØªØ¹Ù„Ù… Ø¢Ù…Ù†Ø© ÙˆÙ…Ø­ÙØ²Ø© <span class='highlight'>Ø¨Ø´ÙƒÙ„ Ù…ØªÙ…ÙŠØ²</span>.", '2': "ÙŠØ­Ø±Øµ Ø§Ù„Ù…Ø¹Ù„Ù… Ø¹Ù„Ù‰ Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ø£Ø¯ÙˆØ§Øª ÙˆØ§Ù„Ù…Ø±Ø§ÙÙ‚ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©ØŒ ÙˆÙŠÙˆÙØ± Ø¨ÙŠØ¦Ø© ØªØ¹Ù„Ù… Ø¢Ù…Ù†Ø© <span class='highlight'>Ø¨Ø´ÙƒÙ„ Ø¬ÙŠØ¯</span>.", '3': "ÙŠØªØ§Ø¨Ø¹ Ø§Ù„Ù…Ø¹Ù„Ù… Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ø£Ø¯ÙˆØ§Øª ÙˆØ§Ù„Ù…Ø±Ø§ÙÙ‚ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© Ø¨ØµÙˆØ±Ø© <span class='highlight'>Ù…Ù„Ø§Ø¦Ù…Ø©</span>.", '4': "Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…Ø¹Ù„Ù… Ù„Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ø£Ø¯ÙˆØ§Øª ÙˆØ§Ù„Ù…Ø±Ø§ÙÙ‚ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© <span class='highlight'>Ù…Ø­Ø¯ÙˆØ¯Ø©</span>.", '5': "Ø¥Ù‡Ù…Ø§Ù„ ÙˆØ§Ø¶Ø­ Ù„Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ø£Ø¯ÙˆØ§Øª ÙˆØ§Ù„Ù…Ø±Ø§ÙÙ‚ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© Ù…Ù…Ø§ Ù‚Ø¯ ÙŠØ¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø© Ù„Ù„Ø®Ø·Ø±." }, '6': { '1': "ØªØ®Ø·ÙŠØ·: ØªØªÙˆØ§ÙØ± Ø®Ø·Ø·Ù‡ Ø§Ù„ÙØµÙ„ÙŠØ© ÙˆØ³Ø¬Ù„Ø§ØªÙ‡ Ù…Ù†Ø¸Ù…Ø© Ø¨Ø´ÙƒÙ„ Ù…ØªÙ…ÙŠØ²ØŒ ÙˆÙŠØ¯Ø±Ø¬ ØªØ­Ø¶ÙŠØ±Ù‡ Ø§Ù„ÙŠÙˆÙ…ÙŠ Ù„Ù€<span class='highlight'>Ø¬Ù…ÙŠØ¹</span> Ø£Ù†Ø´Ø·ØªÙ‡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ÙÙŠ Ù…Ù†ØµØ© Ù†ÙˆØ±ØŒ ÙˆÙŠØªÙ…ÙŠØ² ØªØ®Ø·ÙŠØ·Ù‡ Ø¨ØªØ³Ù„Ø³Ù„ ÙˆØªÙ†ÙˆØ¹ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù ÙˆØ§Ø±ØªØ¨Ø§Ø·Ù‡ Ø¨Ø§Ù„Ø®Ø·Ø© Ø§Ù„ÙØµÙ„ÙŠØ© ÙˆÙ…Ø­Ù‚Ù‚Ù‹Ø§ Ù„Ù†ÙˆØ§ØªØ¬ Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø­Ø±ÙƒÙŠ Ø¨ØµÙˆØ±Ø© Ù…ØªÙ…ÙŠØ²Ø©.", '2': "ØªØ®Ø·ÙŠØ·: ØªØªÙˆØ§ÙØ± Ø®Ø·Ø·Ù‡ Ø§Ù„ÙØµÙ„ÙŠØ© ÙˆØ³Ø¬Ù„Ø§ØªÙ‡ Ù…Ù†Ø¸Ù…Ø© Ø¨Ø´ÙƒÙ„ Ø¬ÙŠØ¯ØŒ ÙˆÙŠØ¯Ø±Ø¬ ØªØ­Ø¶ÙŠØ±Ù‡ Ø§Ù„ÙŠÙˆÙ…ÙŠ Ù„Ù€<span class='highlight'>Ù…Ø¹Ø¸Ù…</span> Ø£Ù†Ø´Ø·ØªÙ‡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ÙÙŠ Ù…Ù†ØµØ© Ù†ÙˆØ±ØŒ ÙˆÙŠØªÙ…ÙŠØ² ØªØ®Ø·ÙŠØ·Ù‡ Ø¨ØªØ³Ù„Ø³Ù„ ÙˆØªÙ†ÙˆØ¹ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù ÙˆØ§Ø±ØªØ¨Ø§Ø·Ù‡ Ø¨Ø§Ù„Ø®Ø·Ø© Ø§Ù„ÙØµÙ„ÙŠØ© ÙˆÙ…Ø­Ù‚Ù‚Ù‹Ø§ Ù„Ù†ÙˆØ§ØªØ¬ Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø­Ø±ÙƒÙŠ Ø¨ØµÙˆØ±Ø© Ø¬ÙŠØ¯Ø©.", '3': "ØªØ®Ø·ÙŠØ·: ØªØªÙˆØ§ÙØ± Ø®Ø·Ø·Ù‡ Ø§Ù„ÙØµÙ„ÙŠØ© ÙˆØ³Ø¬Ù„Ø§ØªÙ‡ Ù…Ù†Ø¸Ù…Ø©ØŒ ÙˆÙŠØ¯Ø±Ø¬ ØªØ­Ø¶ÙŠØ±Ù‡ Ø§Ù„ÙŠÙˆÙ…ÙŠ Ù„Ù€<span class='highlight'>Ø£ØºÙ„Ø¨</span> Ø£Ù†Ø´Ø·ØªÙ‡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ÙÙŠ Ù…Ù†ØµØ© Ù†ÙˆØ±ØŒ ÙˆÙŠØªÙ…ÙŠØ² ØªØ®Ø·ÙŠØ·Ù‡ Ø¨Ø§Ù„Ø§Ø±ØªØ¨Ø§Ø· Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø§Ù„Ø®Ø·Ø© Ø§Ù„ÙØµÙ„ÙŠØ©.", '4': "ØªØ®Ø·ÙŠØ·: ØªØªÙˆØ§ÙØ± Ø®Ø·Ø·Ù‡ Ø§Ù„ÙØµÙ„ÙŠØ© ÙˆØ³Ø¬Ù„Ø§ØªÙ‡ Ø¨Ø´ÙƒÙ„ Ø¬Ø²Ø¦ÙŠ Ø£Ùˆ ØºÙŠØ± Ù…Ù†Ø¸Ù…ØŒ ÙˆÙŠØ¯Ø±Ø¬ ØªØ­Ø¶ÙŠØ±Ù‡ Ø§Ù„ÙŠÙˆÙ…ÙŠ Ù„Ù€<span class='highlight'>Ù‚Ù„ÙŠÙ„ Ù…Ù†</span> Ø£Ù†Ø´Ø·ØªÙ‡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ÙÙŠ Ù…Ù†ØµØ© Ù†ÙˆØ±ØŒ ÙˆÙŠÙƒÙˆÙ† ØªØ®Ø·ÙŠØ·Ù‡ Ù…Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ù†ÙˆØ§ØªØ¬ Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø­Ø±ÙƒÙŠ.", '5': "ØªØ®Ø·ÙŠØ·: ØªÙØªÙ‚Ø± Ø®Ø·Ø·Ù‡ Ø§Ù„ÙØµÙ„ÙŠØ© ÙˆØ³Ø¬Ù„Ø§ØªÙ‡ Ù„Ù„ØªÙ†Ø¸ÙŠÙ… ÙˆØ§Ù„ØªÙˆÙØ±ØŒ Ùˆ<span class='highlight'>Ù†Ø§Ø¯Ø±Ù‹Ø§</span> Ù…Ø§ ÙŠØ¯Ø±Ø¬ ØªØ­Ø¶ÙŠØ±Ù‡ Ø§Ù„ÙŠÙˆÙ…ÙŠ ÙÙŠ Ù…Ù†ØµØ© Ù†ÙˆØ±ØŒ ÙƒÙ…Ø§ Ø£Ù† ØªØ®Ø·ÙŠØ·Ù‡ Ù„Ù„Ø£Ù†Ø´Ø·Ø© Ù†Ø§Ø¯Ø± Ø£Ùˆ ØºÙŠØ± Ù…Ø±ØªØ¨Ø· Ø¨Ù†ÙˆØ§ØªØ¬ Ø§Ù„ØªØ¹Ù„Ù…." }, '7': { '1': "ÙŠØ¯ÙŠØ± Ø§Ù„Ù…Ø¹Ù„Ù… ÙˆÙŠÙ†Ø¸Ù… Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø¨Ø¯Ù†ÙŠ <span class='highlight'>Ø¨ÙØ§Ø¹Ù„ÙŠØ© Ù…ØªÙ…ÙŠØ²Ø©</span>ØŒ ÙˆÙŠØ¶Ù…Ù† Ø£Ù‚ØµÙ‰ Ø§Ø³ØªØºÙ„Ø§Ù„ Ù„ÙˆÙ‚Øª Ø§Ù„Ø­ØµØ© ÙˆÙ…Ø´Ø§Ø±ÙƒØ© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø©.", '2': "ÙŠØ¯ÙŠØ± Ø§Ù„Ù…Ø¹Ù„Ù… ÙˆÙŠÙ†Ø¸Ù… Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø¨Ø¯Ù†ÙŠ <span class='highlight'>Ø¨ÙØ§Ø¹Ù„ÙŠØ© Ø¬ÙŠØ¯Ø©</span>ØŒ Ù…Ø¹ Ø§Ø³ØªØ«Ù…Ø§Ø± Ø¬ÙŠØ¯ Ù„ÙˆÙ‚Øª Ø§Ù„Ø­ØµØ©.", '3': "ÙŠØ¯ÙŠØ± Ø§Ù„Ù…Ø¹Ù„Ù… ÙˆÙŠÙ†Ø¸Ù… Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø¨Ø¯Ù†ÙŠ Ø¨ØµÙˆØ±Ø© <span class='highlight'>Ù…Ù„Ø§Ø¦Ù…Ø©</span>.", '4': "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¹Ù„Ù… Ù„Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø¨Ø¯Ù†ÙŠ <span class='highlight'>Ù…Ø­Ø¯ÙˆØ¯Ø©</span>ØŒ Ù…Ø¹ ÙˆØ¬ÙˆØ¯ ÙØªØ±Ø§Øª Ù‡Ø¯Ø± ÙÙŠ Ø§Ù„ÙˆÙ‚Øª.", '5': "Ø¶Ø¹Ù ÙˆØ§Ø¶Ø­ ÙÙŠ Ø¥Ø¯Ø§Ø±Ø© ÙˆØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø¨Ø¯Ù†ÙŠØŒ Ù…Ù…Ø§ ÙŠØ¤Ø«Ø± Ø³Ù„Ø¨Ù‹Ø§ Ø¹Ù„Ù‰ ØªØ¹Ù„Ù… Ø§Ù„Ø·Ù„Ø¨Ø©." }, '8': { '1': "ÙŠÙˆØ¸Ù Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª ØªØ¯Ø±ÙŠØ³ <span class='highlight'>Ù…ØªÙ†ÙˆØ¹Ø© ÙˆÙ…Ø¨ØªÙƒØ±Ø©</span> (ÙƒØ§Ù„Ù„Ø¹Ø¨ ÙˆØ§Ù„Ø£Ù‚Ø±Ø§Ù†) ÙˆÙ…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø¨Ø¯Ù†ÙŠØŒ ÙŠØ³ØªÙÙŠØ¯ Ù…Ù†Ù‡Ø§ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø©.", '2': "ÙŠÙˆØ¸Ù Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª ØªØ¯Ø±ÙŠØ³ <span class='highlight'>ÙØ¹Ø§Ù„Ø©</span> ÙˆÙ…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø¨Ø¯Ù†ÙŠ ÙŠØ³ØªÙÙŠØ¯ Ù…Ù†Ù‡Ø§ Ù…Ø¹Ø¸Ù… Ø§Ù„Ø·Ù„Ø¨Ø©.", '3': "ÙŠÙˆØ¸Ù Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª ØªØ¯Ø±ÙŠØ³ <span class='highlight'>Ù…Ù„Ø§Ø¦Ù…Ø©</span> Ù„Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø¨Ø¯Ù†ÙŠ.", '4': "ØªÙˆØ¸ÙŠÙ Ø§Ù„Ù…Ø¹Ù„Ù… Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ³ <span class='highlight'>Ù…Ø­Ø¯ÙˆØ¯</span> ÙˆØºÙŠØ± Ù…ØªÙ†ÙˆØ¹.", '5': "ÙŠØ¹ØªÙ…Ø¯ Ø§Ù„Ù…Ø¹Ù„Ù… Ø¹Ù„Ù‰ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© ÙˆØ§Ø­Ø¯Ø© ØºÙŠØ± ÙØ¹Ø§Ù„Ø© Ø£Ùˆ ØºÙŠØ± Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ø¨Ø¯Ù†ÙŠ." }, '9': { '1': "Ø£Ø¯ÙˆØ§Øª: ÙŠÙØ¹Ù„ ÙˆÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø¹Ù„Ù… Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© ÙÙŠ Ø§Ù„Ø­ØµØ© Ø¨ÙØ§Ø¹Ù„ÙŠØ© ÙŠØ³ØªÙÙŠØ¯ Ù…Ù†Ù‡Ø§ <span class='highlight'>Ø¬Ù…ÙŠØ¹</span> Ø§Ù„Ø·Ù„Ø¨Ø© ÙÙŠ ØªØ¹Ù…ÙŠÙ‚ ØªØ¹Ù„Ù…Ù‡Ù… Ø§Ù„Ù…Ù‡Ø§Ø±ÙŠ Ø¨Ù…Ø³ØªÙˆÙ‰ Ù…ØªÙ…ÙŠØ².", '2': "Ø£Ø¯ÙˆØ§Øª: ÙŠÙØ¹Ù„ ÙˆÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø¹Ù„Ù… Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© ÙÙŠ Ø§Ù„Ø­ØµØ© Ø¨ÙØ§Ø¹Ù„ÙŠØ© ÙŠØ³ØªÙÙŠØ¯ Ù…Ù†Ù‡Ø§ <span class='highlight'>Ù…Ø¹Ø¸Ù…</span> Ø§Ù„Ø·Ù„Ø¨Ø© ÙÙŠ ØªØ¹Ù…ÙŠÙ‚ ØªØ¹Ù„Ù…Ù‡Ù… Ø§Ù„Ù…Ù‡Ø§Ø±ÙŠ Ø¨Ù…Ø³ØªÙˆÙ‰ Ø¬ÙŠØ¯.", '3': "Ø£Ø¯ÙˆØ§Øª: ÙŠÙØ¹Ù„ ÙˆÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø¹Ù„Ù… Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© ÙÙŠ Ø§Ù„Ø­ØµØ© Ø¨ÙØ§Ø¹Ù„ÙŠØ© ÙŠØ³ØªÙÙŠØ¯ Ù…Ù†Ù‡Ø§ <span class='highlight'>Ø£ØºÙ„Ø¨</span> Ø§Ù„Ø·Ù„Ø¨Ø© ÙÙŠ ØªØ¹Ù…ÙŠÙ‚ ØªØ¹Ù„Ù…Ù‡Ù… Ø§Ù„Ù…Ù‡Ø§Ø±ÙŠ Ø¨Ù…Ø³ØªÙˆÙ‰ Ù…Ù„Ø§Ø¦Ù….", '4': "Ø£Ø¯ÙˆØ§Øª: ÙŠÙØ¹Ù„ ÙˆÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø¹Ù„Ù… Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© ÙÙŠ Ø§Ù„Ø­ØµØ© Ø¨ÙØ§Ø¹Ù„ÙŠØ© Ù…Ø­Ø¯ÙˆØ¯Ø© ÙˆÙŠØ³ØªÙÙŠØ¯ Ù…Ù†Ù‡Ø§ <span class='highlight'>Ù‚Ù„ÙŠÙ„ Ù…Ù†</span> Ø§Ù„Ø·Ù„Ø¨Ø©.", '5': "Ø£Ø¯ÙˆØ§Øª: ÙŠÙØ¹Ù„ ÙˆÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø¹Ù„Ù… Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© ÙÙŠ Ø§Ù„Ø­ØµØ© Ø¨ÙØ§Ø¹Ù„ÙŠØ© Ù†Ø§Ø¯Ø±Ø© Ø£Ùˆ ÙŠØ³ØªÙÙŠØ¯ Ù…Ù†Ù‡Ø§ <span class='highlight'>Ø¹Ø¯Ø¯ Ù‚Ù„ÙŠÙ„ Ø¬Ø¯Ù‹Ø§</span> Ù…Ù† Ø§Ù„Ø·Ù„Ø¨Ø©." }, '10': { '1': "ÙŠÙˆØ¸Ù Ø£Ø³Ø§Ù„ÙŠØ¨ ØªÙ‚ÙˆÙŠÙ… Ù…ØªÙ†ÙˆØ¹Ø© (Ù…Ù„Ø§Ø­Ø¸Ø©ØŒ ØªÙ‚ÙˆÙŠÙ… Ø£Ù‚Ø±Ø§Ù†) <span class='highlight'>Ø¨ÙØ§Ø¹Ù„ÙŠØ© Ù…ØªÙ…ÙŠØ²Ø©</span> Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø­Ø±ÙƒÙŠ ÙˆØ§Ù„Ù…Ù‡Ø§Ø±ÙŠ ÙˆØªÙ‚Ø¯ÙŠÙ… ØªØºØ°ÙŠØ© Ø±Ø§Ø¬Ø¹Ø© ÙÙˆØ±ÙŠØ©.", '2': "ÙŠÙˆØ¸Ù Ø£Ø³Ø§Ù„ÙŠØ¨ ØªÙ‚ÙˆÙŠÙ… Ù…ØªÙ†ÙˆØ¹Ø© <span class='highlight'>Ø¨ÙØ§Ø¹Ù„ÙŠØ© Ø¬ÙŠØ¯Ø©</span> Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø­Ø±ÙƒÙŠ ÙˆØ§Ù„Ù…Ù‡Ø§Ø±ÙŠ.", '3': "ÙŠÙˆØ¸Ù Ø£Ø³Ø§Ù„ÙŠØ¨ ØªÙ‚ÙˆÙŠÙ… <span class='highlight'>Ù…Ù„Ø§Ø¦Ù…Ø©</span> Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø­Ø±ÙƒÙŠ ÙˆØ§Ù„Ù…Ù‡Ø§Ø±ÙŠ.", '4': "ØªÙˆØ¸ÙŠÙ Ø§Ù„Ù…Ø¹Ù„Ù… Ù„Ø£Ø³Ø§Ù„ÙŠØ¨ Ø§Ù„ØªÙ‚ÙˆÙŠÙ… <span class='highlight'>Ù…Ø­Ø¯ÙˆØ¯</span> Ø£Ùˆ ÙŠÙ‚ØªØµØ± Ø¹Ù„Ù‰ Ù†ÙˆØ¹ ÙˆØ§Ø­Ø¯.", '5': "ØºÙŠØ§Ø¨ Ø´Ø¨Ù‡ ØªØ§Ù… Ù„Ø£Ø³Ø§Ù„ÙŠØ¨ Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù…Ù†Ø¸Ù…Ø© Ù„Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø­Ø±ÙƒÙŠ ÙˆØ§Ù„Ù…Ù‡Ø§Ø±ÙŠ." }, '11': { '1': "ÙŠØªØ£Ù…Ù„ Ø§Ù„Ù…Ø¹Ù„Ù… ÙÙŠ Ù…Ù…Ø§Ø±Ø³Ø§ØªÙ‡ Ø§Ù„ØªØ¯Ø±ÙŠØ³ÙŠØ© ÙˆÙŠÙˆØ¸ÙÙ‡Ø§ ÙÙŠ ØªØ·ÙˆÙŠØ± Ø£Ø¯Ø§Ø¦Ù‡ <span class='highlight'>Ø¨ØµÙˆØ±Ø© Ù…Ø³ØªÙ…Ø±Ø© ÙˆÙ…ØªÙ…ÙŠØ²Ø©</span>ØŒ Ù…Ù…Ø§ ÙŠÙ†Ø¹ÙƒØ³ Ø¥ÙŠØ¬Ø§Ø¨Ù‹Ø§ Ø¹Ù„Ù‰ ØªØ¹Ù„Ù… Ø§Ù„Ø·Ù„Ø¨Ø©.", '2': "ÙŠØªØ£Ù…Ù„ Ø§Ù„Ù…Ø¹Ù„Ù… ÙÙŠ Ù…Ù…Ø§Ø±Ø³Ø§ØªÙ‡ Ø§Ù„ØªØ¯Ø±ÙŠØ³ÙŠØ© ÙˆÙŠÙˆØ¸ÙÙ‡Ø§ ÙÙŠ ØªØ·ÙˆÙŠØ± Ø£Ø¯Ø§Ø¦Ù‡ <span class='highlight'>Ø¨ØµÙˆØ±Ø© Ø¬ÙŠØ¯Ø©</span>.", '3': "ÙŠØªØ£Ù…Ù„ Ø§Ù„Ù…Ø¹Ù„Ù… ÙÙŠ Ù…Ù…Ø§Ø±Ø³Ø§ØªÙ‡ Ø§Ù„ØªØ¯Ø±ÙŠØ³ÙŠØ© ÙˆÙŠÙˆØ¸ÙÙ‡Ø§ ÙÙŠ ØªØ·ÙˆÙŠØ± Ø£Ø¯Ø§Ø¦Ù‡ Ø¨ØµÙˆØ±Ø© <span class='highlight'>Ù…Ù„Ø§Ø¦Ù…Ø©</span>.", '4': "ØªØ£Ù…Ù„ Ø§Ù„Ù…Ø¹Ù„Ù… ÙÙŠ Ù…Ù…Ø§Ø±Ø³Ø§ØªÙ‡ Ø§Ù„ØªØ¯Ø±ÙŠØ³ÙŠØ© <span class='highlight'>Ù…Ø­Ø¯ÙˆØ¯</span> ÙˆÙ†Ø§Ø¯Ø±Ù‹Ø§ Ù…Ø§ ÙŠØ·ÙˆØ± Ø£Ø¯Ø§Ø¡Ù‡.", '5': "Ù„Ø§ ÙŠØ¸Ù‡Ø± Ø§Ù„Ù…Ø¹Ù„Ù… Ø£ÙŠ ØªØ£Ù…Ù„ ÙÙŠ Ù…Ù…Ø§Ø±Ø³Ø§ØªÙ‡ Ø§Ù„ØªØ¯Ø±ÙŠØ³ÙŠØ© Ø£Ùˆ Ø§Ù‡ØªÙ…Ø§Ù… Ø¨ØªØ·ÙˆÙŠØ± Ø£Ø¯Ø§Ø¦Ù‡." }, '12': { '1': "ÙŠÙ„ØªØ²Ù… Ø§Ù„Ù…Ø¹Ù„Ù… Ø¨Ø£Ø®Ù„Ø§Ù‚ÙŠØ§Øª Ø§Ù„Ù…Ù‡Ù†Ø© ÙˆØ§Ù„Ù„ÙˆØ§Ø¦Ø­ Ø§Ù„Ù…Ù†Ø¸Ù…Ø© Ù„Ù„Ø¹Ù…Ù„ (Ø§Ù„Ø£Ù…Ù† ÙˆØ§Ù„Ø³Ù„Ø§Ù…Ø©ØŒ Ø§Ù„Ø²ÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ) <span class='highlight'>Ø¨Ø´ÙƒÙ„ Ù†Ù…ÙˆØ°Ø¬ÙŠ ÙˆÙ…ØªÙ…ÙŠØ²</span>.", '2': "ÙŠÙ„ØªØ²Ù… Ø§Ù„Ù…Ø¹Ù„Ù… Ø¨Ø£Ø®Ù„Ø§Ù‚ÙŠØ§Øª Ø§Ù„Ù…Ù‡Ù†Ø© ÙˆØ§Ù„Ù„ÙˆØ§Ø¦Ø­ Ø§Ù„Ù…Ù†Ø¸Ù…Ø© Ù„Ù„Ø¹Ù…Ù„ <span class='highlight'>Ø¨Ø´ÙƒÙ„ Ø¬ÙŠØ¯</span>.", '3': "ÙŠÙ„ØªØ²Ù… Ø§Ù„Ù…Ø¹Ù„Ù… Ø¨Ø£Ø®Ù„Ø§Ù‚ÙŠØ§Øª Ø§Ù„Ù…Ù‡Ù†Ø© ÙˆØ§Ù„Ù„ÙˆØ§Ø¦Ø­ Ø§Ù„Ù…Ù†Ø¸Ù…Ø© Ù„Ù„Ø¹Ù…Ù„ Ø¨ØµÙˆØ±Ø© <span class='highlight'>Ù…Ù„Ø§Ø¦Ù…Ø©</span>.", '4': "Ø§Ù„ØªØ²Ø§Ù… Ø§Ù„Ù…Ø¹Ù„Ù… Ø¨Ø£Ø®Ù„Ø§Ù‚ÙŠØ§Øª Ø§Ù„Ù…Ù‡Ù†Ø© ÙˆØ§Ù„Ù„ÙˆØ§Ø¦Ø­ Ø§Ù„Ù…Ù†Ø¸Ù…Ø© Ù„Ù„Ø¹Ù…Ù„ <span class='highlight'>Ù…Ø­Ø¯ÙˆØ¯</span>.", '5': "ÙŠØ¸Ù‡Ø± Ø§Ù„Ù…Ø¹Ù„Ù… Ø¹Ø¯Ù… Ø§Ù„ØªØ²Ø§Ù… ÙˆØ§Ø¶Ø­ Ø¨Ø£Ø®Ù„Ø§Ù‚ÙŠØ§Øª Ø§Ù„Ù…Ù‡Ù†Ø© ÙˆØ§Ù„Ù„ÙˆØ§Ø¦Ø­ Ø§Ù„Ù…Ù†Ø¸Ù…Ø© Ù„Ù„Ø¹Ù…Ù„." }, '13': { '1': "ÙŠØ¨Ø§Ø¯Ø± Ø¨ØªÙ†Ø¸ÙŠÙ… ÙØ¹Ø§Ù„ÙŠØ§Øª ÙˆÙ…Ø³Ø§Ø¨Ù‚Ø§Øª Ø±ÙŠØ§Ø¶ÙŠØ© <span class='highlight'>Ù…ØªÙ…ÙŠØ²Ø© ÙˆÙØ¹Ø§Ù„Ø©</span>ØŒ ÙˆÙŠØ¹Ø²Ø² Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ© ÙÙŠ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…Ø¯Ø±Ø³Ø© ÙˆØ§Ù„Ù…Ø¬ØªÙ…Ø¹.", '2': "ÙŠØ³Ø§Ù‡Ù… <span class='highlight'>Ø¨ÙØ§Ø¹Ù„ÙŠØ© Ø¬ÙŠØ¯Ø©</span> ÙÙŠ ØªÙ†Ø¸ÙŠÙ… ÙØ¹Ø§Ù„ÙŠØ§Øª ÙˆÙ…Ø³Ø§Ø¨Ù‚Ø§Øª Ø±ÙŠØ§Ø¶ÙŠØ© ÙˆÙŠØ¹Ø²Ø² Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙÙŠÙ‡Ø§.", '3': "ÙŠØ³Ø§Ù‡Ù… Ø¨ØµÙˆØ±Ø© <span class='highlight'>Ù…Ù„Ø§Ø¦Ù…Ø©</span> ÙÙŠ ØªÙ†Ø¸ÙŠÙ… Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª ÙˆØ§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©.", '4': "Ù…Ø³Ø§Ù‡Ù…Ø© Ø§Ù„Ù…Ø¹Ù„Ù… ÙÙŠ ØªÙ†Ø¸ÙŠÙ… Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª ÙˆØ§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© <span class='highlight'>Ù…Ø­Ø¯ÙˆØ¯Ø©</span>.", '5': "<span class='highlight'>Ù†Ø§Ø¯Ø±Ø§Ù‹</span> Ù…Ø§ ÙŠØ³Ø§Ù‡Ù… Ø§Ù„Ù…Ø¹Ù„Ù… ÙÙŠ ØªÙ†Ø¸ÙŠÙ… Ø£ÙŠ ÙØ¹Ø§Ù„ÙŠØ§Øª Ø£Ùˆ Ù…Ø³Ø§Ø¨Ù‚Ø§Øª Ø±ÙŠØ§Ø¶ÙŠØ©." } };
            const instructionalRecommendations = { '1': "Ø§Ø­Ø±Øµ Ø¹Ù„Ù‰ ØªÙ†ÙˆÙŠØ¹ Ø§Ù„Ø£Ù†Ø´Ø·Ø© ÙˆØ§Ù„ØªØ¯Ø±ÙŠØ¨Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ù„Ø¶Ù…Ø§Ù† Ø¥ØªÙ‚Ø§Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø© Ù„Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø­Ø±ÙƒÙŠØ© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ© ÙˆØªØ·Ø¨ÙŠÙ‚Ù‡Ø§ ÙÙŠ Ù…ÙˆØ§Ù‚Ù Ù„Ø¹Ø¨ Ø­Ù‚ÙŠÙ‚ÙŠØ©.", '2': "Ø§Ø¹Ù…Ù„ Ø¹Ù„Ù‰ Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„ÙØ±Ø¯ÙŠ Ù„Ù„Ø·Ù„Ø¨Ø© ÙÙŠ Ø§Ù„Ø¬ÙˆØ§Ù†Ø¨ Ø§Ù„Ù…Ù‡Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ø¨Ø¯Ù†ÙŠØ©ØŒ ÙˆÙ‚Ø¯Ù… Ù„Ù‡Ù… ØªØ­Ø¯ÙŠØ§Øª Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù…Ø³ØªÙˆÙŠØ§ØªÙ‡Ù… Ù„Ø¶Ù…Ø§Ù† ØªØ·ÙˆØ±Ù‡Ù… Ø§Ù„Ù…Ø³ØªÙ…Ø±.", '3': "Ø´Ø¬Ø¹ Ø§Ù„Ø·Ù„Ø¨Ø© Ø¹Ù„Ù‰ Ø§ØªØ®Ø§Ø° Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª Ø§Ù„ØªÙƒØªÙŠÙƒÙŠØ© Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨ØŒ ÙˆÙ‚Ù… Ø¨ØªØµÙ…ÙŠÙ… Ø£Ù†Ø´Ø·Ø© ØªØ¹Ø²Ø² Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ ÙˆØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø£Ø¯ÙˆØ§Ø± Ø§Ù„Ù‚ÙŠØ§Ø¯ÙŠØ© Ø¨ÙŠÙ†Ù‡Ù….", '4': "Ø¹Ø²Ø² Ù‚ÙŠÙ… Ø§Ù„Ø±ÙˆØ­ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© ÙˆØ§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ù†Ø¸ÙŠÙ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©ØŒ ÙˆÙƒÙ† Ù‚Ø¯ÙˆØ© Ù„Ù‡Ù… ÙÙŠ Ø§Ø­ØªØ±Ø§Ù… Ø§Ù„Ù…Ù†Ø§ÙØ³ÙŠÙ† ÙˆØ§Ù„Ø²Ù…Ù„Ø§Ø¡ ÙˆØ§Ù„Ø­ÙƒØ§Ù….", '5': "Ù‚Ù… Ø¨ÙØ­Øµ Ø¯ÙˆØ±ÙŠ Ù„Ù„Ù…Ù„Ø¹Ø¨ ÙˆØ§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© Ù‚Ø¨Ù„ ÙƒÙ„ Ø¯Ø±Ø³ØŒ ÙˆØ¹Ù„Ù… Ø§Ù„Ø·Ù„Ø¨Ø© Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø£Ù…Ù† ÙˆØ§Ù„Ø³Ù„Ø§Ù…Ø© Ø£Ø«Ù†Ø§Ø¡ Ù…Ù…Ø§Ø±Ø³Ø© Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ©.", '6': "Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ù…Ù†Ù‡Ø¬ÙŠ Ù„Ù„Ø¯Ø±ÙˆØ³ Ø¨Ù…Ø§ ÙŠØ¶Ù…Ù† Ø§Ù„ØªØ¯Ø±Ø¬ ÙÙŠ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª ÙˆØªÙ†Ù…ÙŠØ© Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù„ÙŠØ§Ù‚Ø© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ø§Ù„ØµØ­Ø© Ø¨Ø´ÙƒÙ„ Ù…ØªÙˆØ§Ø²Ù†.", '7': "ÙˆØ¸Ù Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª ÙØ¹Ø§Ù„Ø© Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª ÙˆØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø¨Ø³Ø±Ø¹Ø©ØŒ Ù„Ø²ÙŠØ§Ø¯Ø© ÙˆÙ‚Øª Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„ÙØ¹Ù„ÙŠ Ù„Ù„Ø·Ù„Ø¨Ø© Ø®Ù„Ø§Ù„ Ø§Ù„Ø­ØµØ©.", '8': "Ù†ÙˆÙ‘Ø¹ ÙÙŠ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ³ ÙƒØ§Ù„ØªØ¹Ù„Ù… Ø¨Ø§Ù„Ù„Ø¹Ø¨ ÙˆØ§Ù„ØªØ¯Ø±ÙŠØ³ Ø¨Ø§Ù„Ø£Ù‚Ø±Ø§Ù†ØŒ Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¯Ø§ÙØ¹ÙŠØ© ÙˆÙ…Ø±Ø§Ø¹Ø§Ø© Ø§Ù„ÙØ±ÙˆÙ‚ Ø§Ù„ÙØ±Ø¯ÙŠØ© Ø¨ÙŠÙ† Ø§Ù„Ø·Ù„Ø¨Ø©.", '9': "Ø§Ø³ØªØºÙ„ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ù…ØªØ§Ø­Ø© Ù…Ù† Ø£Ø¯ÙˆØ§Øª ÙˆÙ…Ø³Ø§Ø­Ø§Øª Ø¨Ø´ÙƒÙ„ Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØŒ ÙˆÙ‚Ù… Ø¨ØªÙƒÙŠÙŠÙ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ù„ØªØªÙ†Ø§Ø³Ø¨ Ù…Ø¹ Ø§Ù„Ø¥Ù…ÙƒØ§Ù†ÙŠØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© ÙÙŠ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©.", '10': "Ø§Ø³ØªØ®Ø¯Ù… Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© ÙˆØ¨Ø·Ø§Ù‚Ø§Øª ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø£Ø¯Ø§Ø¡ Ù„ØªÙ‚Ø¯ÙŠÙ… ØªØºØ°ÙŠØ© Ø±Ø§Ø¬Ø¹Ø© Ø¨Ù†Ø§Ø¡Ø© ÙˆÙÙˆØ±ÙŠØ© Ù„Ù„Ø·Ù„Ø¨Ø©ØŒ ÙˆØ³Ø§Ø¹Ø¯Ù‡Ù… Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ… Ø£Ø¯Ø§Ø¦Ù‡Ù… ÙˆØ£Ø¯Ø§Ø¡ Ø²Ù…Ù„Ø§Ø¦Ù‡Ù….", '11': "Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªØ£Ù…Ù„ ÙÙŠ Ù…Ù…Ø§Ø±Ø³Ø§ØªÙƒ Ø¨Ø¹Ø¯ ÙƒÙ„ Ø¯Ø±Ø³ØŒ ÙˆØ§Ø¨Ø­Ø« Ø¹Ù† Ø£ÙÙƒØ§Ø± Ø¬Ø¯ÙŠØ¯Ø© Ù„ØªØ·ÙˆÙŠØ± Ø£Ø³Ø§Ù„ÙŠØ¨Ùƒ ÙÙŠ ØªØ¯Ø±ÙŠØ³ Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© Ø¨Ù…Ø§ ÙŠØªÙ†Ø§Ø³Ø¨ Ù…Ø¹ Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø·Ù„Ø¨ØªÙƒ.", '12': "Ø§Ù„ØªØ²Ù… Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¨Ø§Ù„Ù„ÙˆØ§Ø¦Ø­ Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ø£Ù…Ù† ÙˆØ§Ù„Ø³Ù„Ø§Ù…Ø© ÙÙŠ Ø­ØµØµ Ø§Ù„Ø±ÙŠØ§Ø¶Ø© Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ©ØŒ ÙˆÙƒÙ† Ù†Ù…ÙˆØ°Ø¬Ø§Ù‹ ÙÙŠ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø§Ù„Ø²ÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ ÙˆØ§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„Ù…Ù‡Ù†ÙŠ.", '13': "Ø¨Ø§Ø¯Ø± Ø¨ØªÙ†Ø¸ÙŠÙ… ÙŠÙˆÙ… Ø±ÙŠØ§Ø¶ÙŠ Ø£Ùˆ Ø¯ÙˆØ±ÙŠ Ø¯Ø§Ø®Ù„ÙŠ Ø¨ÙŠÙ† Ø§Ù„ÙØµÙˆÙ„ØŒ ÙˆØ´Ø¬Ø¹ Ø¹Ù„Ù‰ ØªÙƒÙˆÙŠÙ† Ø§Ù„ÙØ±Ù‚ Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ© Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙÙŠ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©." };

            let allReports = [];

            function toggleView(viewId) {
                supervisoryApp.querySelectorAll('#sv-form-view, #sv-dashboard-view, #sv-saved-reports-view').forEach(view => view.classList.remove('active'));
                supervisoryApp.querySelector(`#${viewId}`).classList.add('active');
                supervisoryApp.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
                supervisoryApp.querySelector(`.nav-tab[data-view="${viewId}"]`).classList.add('active');
                if (viewId === 'sv-saved-reports-view') renderSavedReports();
                else if (viewId === 'sv-dashboard-view') { populateTeacherDashboardDropdown(); updateDashboardView(); }
            }
            
            function updateScore(itemId, score) {
                const mainScoreDisplay = supervisoryApp.querySelector(`#sv-score-${itemId}`);
                if (!mainScoreDisplay) return;
                mainScoreDisplay.textContent = score;
                updateScoreColor(mainScoreDisplay, score);
                const ratingContainer = supervisoryApp.querySelector(`#sv-item-${itemId} .rating-selector`);
                ratingContainer.querySelectorAll('.rating-btn').forEach(btn => btn.classList.toggle('active', btn.dataset.score == score));
                const notesDiv = supervisoryApp.querySelector(`#sv-notes-${itemId}`);
                notesDiv.innerHTML = (detailedDescriptions[itemId] && detailedDescriptions[itemId][score]) ? detailedDescriptions[itemId][score] : '';
            }
            
            function updateScoreColor(element, score) {
                element.style.backgroundColor = '#f0f2f5';
                element.style.color = '#333';
                if (score == 1) { element.style.backgroundColor = '#d4edda'; element.style.color = '#155724'; }
                else if (score == 2) { element.style.backgroundColor = '#cce5ff'; element.style.color = '#004085'; }
                else if (score == 3) { element.style.backgroundColor = '#fff3cd'; element.style.color = '#856404'; }
                else if (score == 4) { element.style.backgroundColor = '#f8d7da'; element.style.color = '#721c24'; }
                else if (score == 5) { element.style.backgroundColor = '#dc3545'; element.style.color = '#fff'; }
            }
            
            function generateEvaluationForm() {
                const formContainer = supervisoryApp.querySelector('#sv-evaluationForm');
                formContainer.innerHTML = '';
                let currentDomain = '';
                let detailsElement;
                evaluationItems.forEach(item => {
                    if (item.domain !== currentDomain) {
                        currentDomain = item.domain;
                        detailsElement = document.createElement('details');
                        detailsElement.open = true;
                        const summary = document.createElement('summary');
                        summary.textContent = currentDomain;
                        detailsElement.appendChild(summary);
                        formContainer.appendChild(detailsElement);
                    }
                    detailsElement.innerHTML += `
                        <div class="item-card" id="sv-item-${item.id}">
                            <div class="item-header">
                                <h4>${item.id}. ${item.title} <br><small>${item.desc}</small></h4>
                                <div class="score" id="sv-score-${item.id}">3</div>
                            </div>
                            <div class="rating-selector">
                               <button type="button" class="rating-btn score-1" data-score="1">Ù…ØªÙ…ÙŠØ²</button>
                               <button type="button" class="rating-btn score-2" data-score="2">Ø¬ÙŠØ¯</button>
                               <button type="button" class="rating-btn score-3 active" data-score="3">Ù…Ù„Ø§Ø¦Ù…</button>
                               <button type="button" class="rating-btn score-4" data-score="4">ØºÙŠØ± Ù…Ù„Ø§Ø¦Ù…</button>
                               <button type="button" class="rating-btn score-5" data-score="5">ØªØ¯Ø®Ù„ Ø³Ø±ÙŠØ¹</button>
                            </div>
                            <div class="notes-wrapper">
                                <div id="sv-notes-${item.id}" class="item-notes" contenteditable="true"></div>
                                ${recognition ? `<button type="button" class="mic-btn">ğŸ¤</button>` : ''}
                            </div>
                        </div>`;
                });
                evaluationItems.forEach(item => updateScore(item.id, 3));
            }
            
            function getSchoolName() { return supervisoryApp.querySelector('#sv-school').value === 'other' ? supervisoryApp.querySelector('#sv-school-other').value.trim() : supervisoryApp.querySelector('#sv-school').value; }
            function getTeacherName() { return supervisoryApp.querySelector('#sv-teacherName').value === 'other' ? supervisoryApp.querySelector('#sv-teacherName-other').value.trim() : supervisoryApp.querySelector('#sv-teacherName').value; }
            function populateDropdown(selectElement, dataArray, placeholderText) { selectElement.innerHTML = `<option value="">${placeholderText}</option>`; dataArray.forEach(item => { const option = document.createElement('option'); option.value = item; option.textContent = item; selectElement.appendChild(option); }); selectElement.innerHTML += `<option value="other">Ø£Ø®Ø±Ù‰...</option>`; }
            function handleOtherOption(selectElement, otherInputElement) { otherInputElement.style.display = (selectElement.value === 'other') ? 'block' : 'none'; if (selectElement.value !== 'other') otherInputElement.value = ''; }
            function populateTeacherDropdown(schoolName) { populateDropdown(supervisoryApp.querySelector('#sv-teacherName'), teachersBySchool[schoolName] || [], 'Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¹Ù„Ù…...'); }

            function prepareOfficialPrint() {
                const printTbody = supervisoryApp.querySelector('#sv-print-main-tbody');
                printTbody.innerHTML = '';
                ['school', 'teacherName', 'fileNumber', 'subject', 'visitNumber', 'visitDate', 'class', 'lesson', 'topic', 'visitorName', 'visitorPosition'].forEach(id => {
                    supervisoryApp.querySelector(`#sv-print-${id}`).textContent = (id === 'school') ? getSchoolName() : (id === 'teacherName') ? getTeacherName() : supervisoryApp.querySelector(`#sv-${id}`).value;
                });
                ['strengthsContent', 'developmentContent', 'recommendationsContent'].forEach(id => { supervisoryApp.querySelector(`#sv-print-${id}`).innerText = supervisoryApp.querySelector(`#sv-${id}`).value; });
                const groupedItems = evaluationItems.reduce((acc, item) => { acc[item.domain] = acc[item.domain] || {}; (acc[item.domain][item.standard] = acc[item.domain][item.standard] || []).push(item); return acc; }, {});
                for (const domain in groupedItems) {
                    const standards = groupedItems[domain];
                    const domainItemCount = Object.values(standards).flat().length;
                    let isFirstRowOfDomain = true;
                    for (const standard in standards) {
                        const items = standards[standard];
                        const standardItemCount = items.length;
                        items.forEach((item, itemIndex) => {
                            const row = document.createElement('tr');
                            const score = supervisoryApp.querySelector(`#sv-score-${item.id}`).textContent;
                            let domainCell = (isFirstRowOfDomain && itemIndex === 0) ? `<td rowspan="${domainItemCount}" class="category-cell">${domain}</td>` : '';
                            let standardCell = (itemIndex === 0) ? `<td rowspan="${standardItemCount}" class="category-cell">${standard}</td>` : '';
                            row.innerHTML = `${domainCell}${standardCell}<td>${item.id}</td><td class="item-cell">${item.title}</td><td>${score}</td>`;
                            printTbody.appendChild(row);
                        });
                        isFirstRowOfDomain = false;
                    }
                }
            }

            function printOfficialReport() { prepareOfficialPrint(); window.print(); }
            
            function exportToWord() {
                prepareOfficialPrint();
                const fileName = `${supervisoryApp.querySelector('#sv-visitNumber').value.trim() || 'Ø²ÙŠØ§Ø±Ø©'} - ${getSchoolName() || 'Ù…Ø¯Ø±Ø³Ø©'} - ${getTeacherName() || 'Ù…Ø¹Ù„Ù…'}.docx`;
                const printStyles = ` body { font-family: 'Times New Roman', Times, serif; direction: rtl; } .print-view { display: block !important; } .print-logo-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; border-bottom: 2px solid #000; padding-bottom: 10px; } .print-logo-header img { max-height: 70px; } .print-header-text, .print-title { text-align: center; font-weight: bold; margin-bottom: 15px; } .print-main-table, .print-info-table { width: 100%; border-collapse: collapse; margin-bottom: 15px; } .print-main-table th, .print-main-table td, .print-info-table td { border: 1px solid #000; padding: 5px; text-align: center; vertical-align: middle; } .print-main-table th { background-color: #f2f2f2 !important; } .print-info-table .label { font-weight: bold; background-color: #f2f2f2 !important; width: 15%; } .item-cell { text-align: right !important; } .category-cell { font-weight: bold; } .report-section-print { margin-top: 20px; border: 2px solid #000; padding: 10px; page-break-inside: avoid; } .report-section-print h3 { margin: 0 0 10px 0; font-size: 1.2rem; background-color: #f2f2f2 !important; padding: 5px; text-align: center; border-bottom: 1px solid #000; } .print-report-box { white-space: pre-wrap; text-align: right; min-height: 80px; } .signature-section { margin-top: 40px; page-break-inside: avoid; } .evaluation-standard { text-align: center; font-size: 0.9em; margin-top: 20px; border-top: 1px solid #000; padding-top: 5px;} `;
                const content = `<!DOCTYPE html><html lang="ar" dir="rtl"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style>${printStyles}</style></head><body>${supervisoryApp.querySelector("#sv-printView").innerHTML}</body></html>`;
                const converted = htmlDocx.asBlob(content, { orientation: 'portrait', margins: { top: 720, right: 720, bottom: 720, left: 720 } });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(converted);
                link.download = fileName;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            }
            
            function generateReport() {
                let itemsByScore = { 1: [], 2: [], 3: [], 4: [], 5: [] };
                evaluationItems.forEach(item => {
                    const score = parseInt(supervisoryApp.querySelector(`#sv-score-${item.id}`).textContent);
                    itemsByScore[score].push({ id: item.id, title: item.title, standard: item.standard, notes: supervisoryApp.querySelector(`#sv-notes-${item.id}`).innerHTML });
                });

                const strengths = [...itemsByScore[1], ...itemsByScore[2]].slice(0, 4);
                const developments = [...itemsByScore[5], ...itemsByScore[4]].slice(0, 4);
                
                let recommendationsList = [...developments];
                const extraRecs = itemsByScore[3].sort(() => 0.5 - Math.random()).slice(0, 2);
                extraRecs.forEach(rec => { if (!recommendationsList.find(item => item.id === rec.id)) recommendationsList.push(rec); });

                supervisoryApp.querySelector('#sv-strengthsContent').value = strengths.map(s => `${s.standard}: ${s.notes.replace(/<[^>]*>?/gm, '')}`).join('\n\n');
                supervisoryApp.querySelector('#sv-developmentContent').value = developments.map(d => `${d.standard}: ${d.notes.replace(/<[^>]*>?/gm, '')}`).join('\n\n');
                let recommendationsText = "Ù†ÙˆØµÙŠ Ø§Ù„Ù…Ø¹Ù„Ù… Ø¨Ø§Ù„Ø¢ØªÙŠ:\n\n";
                recommendationsList.forEach(rec => { if (instructionalRecommendations[rec.id]) recommendationsText += `â€¢ ${rec.standard} - ${rec.title}: ${instructionalRecommendations[rec.id]}\n\n`; });
                supervisoryApp.querySelector('#sv-recommendationsContent').value = recommendationsText + "ÙˆØ§Ù„Ù„Ù‡ ÙˆÙ„ÙŠ Ø§Ù„ØªÙˆÙÙŠÙ‚.";

                supervisoryApp.querySelector('#sv-reportSection').style.display = 'block';
                supervisoryApp.querySelector('#sv-reportSection').scrollIntoView({ behavior: 'smooth' });
            }
            
            function startDictation(textareaId, button) {
                if (!recognition) { displayStatusMessage('Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø®Ø§ØµÙŠØ© Ø§Ù„Ø¥Ù…Ù„Ø§Ø¡ Ø§Ù„ØµÙˆØªÙŠ.', 'red'); return; }
                button.classList.add('recording'); button.textContent = 'ğŸ”´';
                recognition.start();
                recognition.onresult = (event) => { supervisoryApp.querySelector(`#${textareaId}`).innerHTML += (supervisoryApp.querySelector(`#${textareaId}`).textContent.length > 0 ? ' ' : '') + event.results[0][0].transcript; };
                recognition.onspeechend = () => recognition.stop();
                recognition.onerror = (event) => console.error('Speech recognition error:', event.error);
                recognition.onend = () => { button.classList.remove('recording'); button.textContent = 'ğŸ¤'; };
            }

            function copyReportContent(textareaId, buttonElement) {
                const textareaToCopy = supervisoryApp.querySelector(`#${textareaId}`);
                if (!textareaToCopy || !textareaToCopy.value) { displayStatusMessage('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø­ØªÙˆÙ‰ Ù„Ù†Ø³Ø®Ù‡.', 'orange'); return; }
                const tempTextarea = document.createElement('textarea');
                tempTextarea.value = textareaToCopy.value;
                tempTextarea.style.position = 'absolute'; tempTextarea.style.left = '-9999px';
                document.body.appendChild(tempTextarea);
                tempTextarea.select();
                try {
                    const successful = document.execCommand('copy');
                    if (successful) {
                        const originalText = buttonElement.textContent;
                        buttonElement.textContent = 'ØªÙ… Ø§Ù„Ù†Ø³Ø®!';
                        buttonElement.style.backgroundColor = 'var(--success-color)';
                        displayStatusMessage(`ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ù†Ø¬Ø§Ø­.`, 'green');
                        setTimeout(() => { buttonElement.textContent = originalText; buttonElement.style.backgroundColor = 'var(--dark-gray)'; }, 2000);
                    } else { displayStatusMessage('ÙØ´Ù„ Ø§Ù„Ù†Ø³Ø®.', 'red'); }
                } catch (err) { console.error('Failed to copy: ', err); displayStatusMessage('ÙØ´Ù„ Ø§Ù„Ù†Ø³Ø®.', 'red'); }
                document.body.removeChild(tempTextarea);
            }

            function showConfirmationModal(title, message, onConfirm) {
                supervisoryApp.querySelector('#supervisory-modal-title').textContent = title;
                supervisoryApp.querySelector('#supervisory-modal-message').textContent = message;
                const modal = supervisoryApp.querySelector('#supervisoryConfirmationModal');
                modal.style.display = 'flex';
                const confirmBtn = supervisoryApp.querySelector('#supervisory-modal-confirm-btn');
                const cancelBtn = supervisoryApp.querySelector('#supervisory-modal-cancel-btn');
                const confirmHandler = () => { onConfirm(); hideConfirmationModal(); };
                confirmBtn.onclick = confirmHandler;
                cancelBtn.onclick = hideConfirmationModal;
            }

            function hideConfirmationModal() { supervisoryApp.querySelector('#supervisoryConfirmationModal').style.display = 'none'; }
            function showResetConfirmation() { showConfirmationModal('ØªØ£ÙƒÙŠØ¯ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†', 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ Ø³ÙŠØªÙ… ÙÙ‚Ø¯Ø§Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø©.', performReset); }
            function performReset() { clearForm(); displayStatusMessage('ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø­Ø§Ù„ÙŠ Ø¨Ù†Ø¬Ø§Ø­.', 'green'); }
            
            function clearForm() {
                supervisoryApp.querySelector('#sv-evaluationForm').reset();
                const schoolSelect = supervisoryApp.querySelector('#sv-school');
                schoolSelect.selectedIndex = 0;
                schoolSelect.dispatchEvent(new Event('change'));
                supervisoryApp.querySelector('#sv-teacherName').innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¹Ù„Ù…...</option>';
                supervisoryApp.querySelectorAll('.info-grid input, .report-content-area').forEach(input => { if (input.id !== 'sv-visitorName' && input.id !== 'sv-visitorPosition') input.value = ''; });
                supervisoryApp.querySelector('#sv-subject').value = 'Ø§Ù„Ø±ÙŠØ§Ø¶Ø© Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ©';
                supervisoryApp.querySelector('#sv-visitDate').value = new Date().toISOString().split('T')[0];
                evaluationItems.forEach(item => updateScore(item.id, 3));
                supervisoryApp.querySelector('#sv-reportSection').style.display = 'none';
            }

            function displayStatusMessage(message, color) {
                const statusElement = supervisoryApp.querySelector('#sv-status-message');
                statusElement.textContent = message;
                statusElement.style.color = color;
                statusElement.style.opacity = 1;
                setTimeout(() => { statusElement.style.opacity = 0; }, 3000);
            }
            
            async function savePermanentReport() {
                // Firestore save logic for supervisory reports
            }

            function loadPermanentReport(reportId) {
                // Firestore load logic for supervisory reports
            }

            function deletePermanentReport(reportId) {
                 // Firestore delete logic for supervisory reports
            }

            function saveVisitorData() { /* ... save to firestore ... */ }
            function loadVisitorData() { /* ... load from firestore ... */ }
            function saveTemplate() { /* ... save to firestore ... */ }
            function loadTemplate() { /* ... load from firestore ... */ }
            function populateTemplateDropdown() { /* ... load from firestore ... */ }
            
            function renderSavedReports() {
                 // ... render from firestore data ...
            }

            function populateTeacherDashboardDropdown() {
                // ... populate from firestore data ...
            }

            function updateDashboardView() {
                // ... update from firestore data ...
            }
            
            // --- EVENT LISTENERS ---
            supervisoryApp.querySelectorAll('.nav-tab').forEach(tab => tab.addEventListener('click', () => toggleView(tab.dataset.view)));
            supervisoryApp.querySelector('#sv-evaluationForm').addEventListener('click', e => {
                if (e.target.matches('.rating-btn')) updateScore(e.target.closest('.item-card').id.split('-')[2], e.target.dataset.score);
                if (e.target.matches('.mic-btn')) startDictation(e.target.previousElementSibling.id, e.target);
            });
            supervisoryApp.querySelector('#sv-school').addEventListener('change', e => { handleOtherOption(e.target, supervisoryApp.querySelector('#sv-school-other')); populateTeacherDropdown(e.target.value); });
            supervisoryApp.querySelector('#sv-teacherName').addEventListener('change', e => handleOtherOption(e.target, supervisoryApp.querySelector('#sv-teacherName-other')));
            ['sv-visitorName', 'sv-visitorPosition'].forEach(id => supervisoryApp.querySelector(`#${id}`).addEventListener('input', saveVisitorData));
            ['sv-loadTemplateBtn', 'sv-saveTemplateBtn', 'sv-savePermanentReportBtn', 'sv-generateReportBtn', 'sv-printOfficialReportBtn', 'sv-exportToWordBtn', 'sv-showResetConfirmationBtn', 'sv-updateDashboardViewBtn'].forEach(id => {
                const btn = supervisoryApp.querySelector(`#${id}`);
                if(btn) btn.addEventListener('click', { 'sv-loadTemplate': loadTemplate, 'sv-saveTemplate': saveTemplate, 'sv-savePermanentReport': savePermanentReport, 'sv-generateReport': generateReport, 'sv-printOfficialReport': printOfficialReport, 'sv-exportToWord': exportToWord, 'sv-showResetConfirmation': showResetConfirmation, 'sv-updateDashboardView': updateDashboardView }[id.replace('Btn', '')]);
            });
            ['sv-teacher-dashboard-select', 'sv-chartTypeSelect', 'sv-visitDateSelect'].forEach(id => {
                const el = supervisoryApp.querySelector(`#${id}`);
                if (el) el.addEventListener('change', updateDashboardView)
            });
            supervisoryApp.querySelector('#sv-filter-reports-input').addEventListener('input', renderSavedReports);
            supervisoryApp.querySelector('#sv-reportSection').addEventListener('click', e => { if(e.target.matches('.copy-btn')) copyReportContent(e.target.dataset.target, e.target); });
            supervisoryApp.querySelector('#sv-saved-reports-list').addEventListener('click', e => {
                if (e.target.matches('.load-btn')) loadPermanentReport(e.target.dataset.key);
                if (e.target.matches('.delete-btn')) deletePermanentReport(e.target.dataset.key);
            });

            // --- INITIALIZATION ---
            generateEvaluationForm();
            populateDropdown(supervisoryApp.querySelector('#sv-school'), schoolsList.sort((a, b) => a.localeCompare(b, 'ar')), 'Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯Ø±Ø³Ø©...');
            // loadVisitorData();
            // populateTemplateDropdown();
            supervisoryApp.querySelector('#sv-visitDate').value = new Date().toISOString().split('T')[0];
            toggleView('sv-form-view');
        }


        // --- SCHOOL VISITS APP CODE ---
        function initializeSchoolApp(db, auth) {
            let userId, unsubscribeReports = null, unsubscribeVisitTypes = null, confirmationCallback = null;
            let visitTypesData = {}, savedReports = [], currentAttachments = [], currentVisitTypeKey = '', previewSource = 'form';
            const defaultVisitTypesData = { 'custom_exploratory': { name: 'Ø²ÙŠØ§Ø±Ø© Ø§Ø³ØªØ·Ù„Ø§Ø¹ÙŠØ©', objectives_list: ["Ù…Ù‚Ø§Ø¨Ù„Ø© Ù…Ø¯ÙŠØ±Ø© Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ù…Ø¹Ù„Ù…Ø©Ø§Ù„Ø±ÙŠØ§Ø¶Ø© Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ©.", "Ø­Ø¶ÙˆØ± Ø§Ù„Ø·Ø§Ø¨ÙˆØ± Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ.", "ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù…Ø©.", "Ù…ØªØ§Ø¨Ø¹Ø© Ù…ÙˆØ§ÙÙ‚Ø§Øª Ø§Ù„ØªØ¹ÙŠÙŠÙ†.", "Ù…ØªØ§Ø¨Ø¹Ø© ØªÙˆÙØ± Ø§Ù„Ø£Ø¯Ù„Ø© ÙˆÙƒØªØ§Ø¨ Ø§Ù„Ø·Ø§Ù„Ø¨ ÙˆØªØ­Ø¯ÙŠØ«Ù‡Ø§.", "Ù…ØªØ§Ø¨Ø¹Ø© ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¬Ø¯ÙˆÙ„ ÙˆÙ†ØµØ§Ø¨ Ø§Ù„Ø­ØµØµ Ù„Ù„Ù…Ø¹Ù„Ù…Ø©.", "Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…Ù„Ø§Ø¹Ø¨ ÙˆØªØ®Ø·ÙŠØ·Ù‡Ø§ ÙˆØ§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©.", "Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù†Ø´Ø±Ø§Øª ÙˆÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„ØªÙ‚ÙˆÙŠÙ… ÙˆÙ…Ù†Ø§Ù‚Ø´Ø© Ù…Ø³ØªØ¬Ø¯Ø§ØªÙ‡Ø§.", "Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…Ù†Ù‡Ø§Ø¬ ÙˆØ³Ø¬Ù„Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù…Ø©.", "Ø­Ø¶ÙˆØ± Ø­ØµØ© Ù„Ù„Ù…Ø¹Ù„Ù…Ø© ÙˆØ§Ù„Ù…Ø¯Ø§ÙˆÙ„Ø© Ø§Ù„Ø§Ø´Ø±Ø§ÙÙŠØ©."], completedOpinions: ["ØªÙ… Ù…Ù‚Ø§Ø¨Ù„Ø© Ø§Ù„ÙØ§Ø¶Ù„Ø© Ù…Ø¯ÙŠØ±Ø© Ø§Ù„Ù…Ø¯Ø±Ø³Ø© ÙˆÙ…Ø¹Ù„Ù…Ø© Ø§Ù„Ø±ÙŠØ§Ø¶Ø© Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ©.", "ØªÙ… Ø­Ø¶ÙˆØ± Ø§Ù„Ø·Ø§Ø¨ÙˆØ± Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ ÙˆÙƒØ§Ù† Ø§Ù„Ù‡ØªØ§Ù Ø¨ØµÙˆØª Ø¹Ø§Ù„ÙŠ ÙˆØ§Ù„Ø§Ù†ØµØ±Ø§Ù Ù…Ù†Ø¸Ù… ÙˆÙ…Ø±Ø§Ø³Ù… Ø±ÙØ¹ Ø§Ù„Ø¹Ù„Ù… ØµØ­ÙŠØ­Ø©.", "ØªÙ… ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù…Ø© Ø¹Ø¨Ø± Ø§Ù„Ø±Ø§Ø¨Ø·.", "ØªÙ… Ù…ØªØ§Ø¨Ø¹Ø© Ù…ÙˆØ§ÙÙ‚Ø§Øª Ø§Ù„ØªØ¹ÙŠÙŠÙ† ÙˆØ§Ù„Ù…Ø¹Ù„Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù‚Ø§Ù…Ø© Ø§Ù„Ù…Ø¯Ø±Ø³Ø©.", "ØªÙ… Ù…ØªØ§Ø¨Ø¹Ø© ØªÙˆÙØ± Ø§Ù„Ø£Ø¯Ù„Ø© ÙˆØªØ­Ø¯ÙŠØ«Ù‡Ø§ ÙˆÙƒØ§Ù†Øª Ù…Ø­Ø¯Ø«Ø©.", "ØªÙ… Ù…ØªØ§Ø¨Ø¹Ø© ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ ÙˆÙƒØ§Ù† Ù…ØªÙˆØ§ÙÙ‚Ù‹Ø§ Ù…Ø¹ Ø§Ù„Ø£Ù†Ø¸Ù…Ø©.", "ØªÙ… Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…Ù„Ø§Ø¹Ø¨ ÙˆØªØ®Ø·ÙŠØ·Ù‡Ø§ ÙˆØ§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© ÙˆÙƒØ§Ù†Øª Ù…ØªÙˆÙØ±Ø©.", "ØªÙ… Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù†Ø´Ø±Ø§Øª ÙˆÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„ØªÙ‚ÙˆÙŠÙ… ÙˆÙ…Ù†Ø§Ù‚Ø´Ø© Ù…Ø³ØªØ¬Ø¯Ø§ØªÙ‡Ø§.", "ØªÙ… Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…Ù†Ù‡Ø§Ø¬ ÙˆØ³Ø¬Ù„Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù…Ø© ÙˆÙƒØ§Ù†Øª Ù…ÙƒØªÙ…Ù„Ø© ÙˆØªÙ… Ø§Ø¹ØªÙ…Ø§Ø¯ Ø®Ø·Ø· Ø§Ù„Ù…Ø¹Ù„Ù…Ø© Ø§Ù„ÙØµÙ„ÙŠØ©.", "ØªÙ… Ø­Ø¶ÙˆØ± Ù…ÙˆÙ‚Ù ØµÙÙŠ Ù„Ù„Ù…Ø¹Ù„Ù…Ø© ÙˆÙƒØ§Ù† Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø¬ÙŠØ¯ Ø¬Ø¯Ø§."], incompleteOpinions: ["ØªÙ… Ù…Ù‚Ø§Ø¨Ù„Ø© Ø§Ù„ÙØ§Ø¶Ù„Ø© Ù…Ø¯ÙŠØ±Ø© Ø§Ù„Ù…Ø¯Ø±Ø³Ø© ÙˆØ¨ØºÙŠØ§Ø¨ Ù…Ø¹Ù„Ù…Ø© Ø§Ù„Ø±ÙŠØ§Ø¶Ø© Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ©.", "ØªÙ… Ø­Ø¶ÙˆØ± Ø§Ù„Ø·Ø§Ø¨ÙˆØ± Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ ÙˆÙƒØ§Ù† Ø§Ù„Ù‡ØªØ§Ù Ø¨ØµÙˆØª Ù…Ù†Ø®ÙØ¶ ÙˆØ§Ù„Ø§Ù†ØµØ±Ø§Ù ØºÙŠØ± Ù…Ù†Ø¸Ù… ÙˆØªÙ„Ø§Ø­Ø¸ Ø§Ø®Ø·Ø§Ø¡ ÙÙŠ Ù…Ø±Ø§Ø³Ù… Ø±ÙØ¹ Ø§Ù„Ø¹Ù„Ù… ÙˆØªÙ… ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø¹Ù„Ù… Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† Ø§Ù„ÙƒØ´Ø§ÙØ© Ø¨ØªØ¯Ø±ÙŠØ¨ Ø§Ù„ÙƒØ´Ø§ÙØ© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø±Ø§Ø³Ù… Ø§Ù„ØµØ­ÙŠØ­Ø©.", "Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù…Ø© Ø¨Ø­Ø§Ø¬Ø© Ø¥Ù„Ù‰ ØªØ­Ø¯ÙŠØ«ØŒ ÙˆØªÙ… Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø¹Ù„Ù‰ Ø¶Ø±ÙˆØ±Ø© Ø§Ø³ØªÙƒÙ…Ø§Ù„Ù‡Ø§ Ø¹Ø¨Ø± Ø§Ù„Ø±Ø§Ø¨Ø·.", "", "ØªÙ… Ù…ØªØ§Ø¨Ø¹Ø© ØªÙˆÙØ± Ø§Ù„Ø£Ø¯Ù„Ø© ÙˆØªØ­Ø¯ÙŠØ«Ù‡Ø§ ÙˆÙƒØ§Ù†Øª Ù…Ø­Ø¯Ø«Ø© Ø¨ØµÙŠØºØ© (PDF).", "ØªÙ… Ù…ØªØ§Ø¨Ø¹Ø© ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ ÙˆØªÙ„Ø§Ø­Ø¸ ÙˆØ¬ÙˆØ¯ Ø­ØµØµ Ù…ÙˆØ²Ø¹Ø© ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø³Ø§Ø¨Ø¹Ø© ÙˆØ§Ù„Ø«Ø§Ù…Ù†Ø© ÙˆÙƒØ°Ù„Ùƒ ØªÙØ±ÙŠØº Ø§Ù„Ù…Ø¹Ù„Ù…Ø© ÙŠÙˆÙ… Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ Ø¨Ø¯ÙˆÙ† Ø¹Ø°Ø± Ù…Ù‚Ø¨ÙˆÙ„ ÙˆØªÙ… ØªÙˆØ¬ÙŠÙ‡ Ø§Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ø¨ØªØ¹Ø¯ÙŠÙ„ Ø°Ù„Ùƒ ÙˆØ§Ù„Ø§Ø¨ØªØ¹Ø§Ø¯ Ø¹Ù† Ø§Ù„Ø­ØµØµ Ø§Ù„Ø£Ø®ÙŠØ±Ø©.", "ØªÙ… Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…Ù„Ø§Ø¹Ø¨ ÙˆØªØ®Ø·ÙŠØ·Ù‡Ø§ ÙˆØ§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© ÙˆØªÙ„Ø§Ø­Ø¸ Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø£Ø¯ÙˆØ§Øª Ø±ÙŠØ§Ø¶ÙŠØ© ÙÙŠ Ø§Ù„Ù…Ø¯Ø±Ø³Ø© ÙˆØªÙ… ØªÙˆØ¬ÙŠÙ‡ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ø¨ØªÙˆÙÙŠØ± Ø§Ù„Ø£Ø¯ÙˆØ§Øª ÙˆØªØ¬Ø¯ÙŠØ¯ ØªØ®Ø·ÙŠØ· Ø§Ù„Ù…Ù„Ø¹Ø¨.", "ØªÙ… Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù†Ø´Ø±Ø§Øª ÙˆÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„ØªÙ‚ÙˆÙŠÙ… ÙˆÙ…Ù†Ø§Ù‚Ø´Ø© Ù…Ø³ØªØ¬Ø¯Ø§ØªÙ‡Ø§ ÙˆÙ„ÙˆØ­Ø¸ Ø¹Ø¯Ù… ÙˆØµÙˆÙ„ Ø§Ù„Ù†Ø´Ø±Ø§Øª Ø§Ù„Ù‰ Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† ÙˆØªÙ… Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ø´Ø±Ø§Øª ÙˆØ§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ù…Ø±Ø© Ø§Ø®Ø±Ù‰ Ø§Ù„Ù‰ Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† Ø¹Ø¨Ø± Ø§Ù„ÙˆØªØ³Ø§Ø¨.", "ØªÙ… Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…Ù†Ù‡Ø§Ø¬ ÙˆØ³Ø¬Ù„Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù…Ø© ÙˆÙƒØ§Ù†Øª ØºÙŠØ± Ù…ÙƒØªÙ…Ù„Ø©ØŒ ÙˆØªÙ… ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø¹Ù„Ù…Ø© Ù„Ø§Ø³ØªÙƒÙ…Ø§Ù„Ù‡Ø§.", "ØªØ¹Ø°Ø± Ø­Ø¶ÙˆØ± Ø­ØµØ© Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„Ù…Ø©."], recommendations: ["Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØªØ²Ø§Ù… Ø§Ù„Ù‡ÙŠØ¦Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ³ÙŠØ© Ø¨Ø§Ù„Ø­Ø¶ÙˆØ±.", "Ù…ØªØ§Ø¨Ø¹Ø© ØªØ¯Ø±ÙŠØ¨ Ø§Ù„ÙƒØ´Ø§ÙØ© Ø¹Ù„Ù‰ Ù…Ø±Ø§Ø³Ù… Ø±ÙØ¹ Ø§Ù„Ø¹Ù„Ù… Ø§Ù„ØµØ­ÙŠØ­Ø© ÙˆØªØ­Ø³ÙŠÙ† ØªÙ†Ø¸ÙŠÙ… Ø§Ù†ØµØ±Ø§Ù Ø§Ù„Ø·Ù„Ø¨Ø©.", "Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø¹Ù„Ù‰ ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù…Ø© Ø¨Ø´ÙƒÙ„ Ø¯ÙˆØ±ÙŠ.", "Ø¶Ø±ÙˆØ±Ø© Ø§Ù„Ø¥Ø³Ø±Ø§Ø¹ ÙÙŠ Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ù…ÙˆØ§ÙÙ‚Ø§Øª Ø§Ù„ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø±Ø³Ù…ÙŠØ©.", "Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø¹Ù†ÙŠØ© Ù„ØªÙˆÙÙŠØ± Ø§Ù„ÙƒØªØ¨ Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ© Ø§Ù„Ù†Ø§Ù‚ØµØ©.", "ØªØºÙŠÙŠØ± Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¹Ù„Ù…Ø© Ù„ÙŠÙƒÙˆÙ† Ù„Ø¯ÙŠÙ‡Ø§ Ø­ØµØ© Ø±ÙŠØ§Ø¶Ø© ÙƒÙ„ ÙŠÙˆÙ…ØŒ ÙˆØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø­ØµØµ Ø¨Ø­ÙŠØ« ÙŠØªÙ… Ø§Ù„Ø§Ø¨ØªØ¹Ø§Ø¯ Ø¹Ù† Ø§Ù„Ø­ØµØµ Ø§Ù„Ø³Ø§Ø¨Ø¹Ø© ÙˆØ§Ù„Ø«Ø§Ù…Ù†Ø©.", "ØªÙˆÙÙŠØ± Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© Ø­Ø³Ø¨ Ø§Ù„ÙƒØ´Ù Ø§Ù„Ù…Ø±ÙÙ‚ ÙˆÙ†Ø®Øµ Ø¨Ø§Ù„Ø°ÙƒØ± (Ø¬Ù‡Ø§Ø² Ø§Ù„ÙˆØ«Ø¨ Ø§Ù„Ø¹Ø§Ù„ÙŠ Ù…Ø¹ Ø§Ù„Ù…Ø±ØªØ¨Ø© Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù‡ØŒ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù…Ù‚Ø³Ù…ØŒ Ø§Ù„Ù…Ù‚Ø¹Ø¯ Ø§Ù„Ø³ÙˆÙŠØ¯ÙŠØŒ Ù…Ø±Ù…Ù‰ Ù„ÙƒØ±Ø© Ø§Ù„ÙŠØ¯ Ø¹Ø¯Ø¯ (2)ØŒ Ù‚ÙˆØ§Ø¦Ù… Ù„Ù„Ø³Ù„Ø© Ø¹Ø¯Ø¯ (2)ØŒ Ø´Ø¨Ùƒ Ù„ÙƒØ±Ø© Ø§Ù„Ø·Ø§Ø¦Ø±Ø©) Ø¨Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø£Ø¯ÙˆØ§Øª ÙÙŠ Ø§Ù„ÙƒØ´ÙØŒ ÙˆØªØ¬Ø¯ÙŠØ¯ ØªØ®Ø·ÙŠØ· Ø§Ù„Ù…Ù„Ø¹Ø¨.", "Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø¹Ù„Ù‰ ÙˆØµÙˆÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ø´Ø±Ø§Øª ÙˆØ§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ù„Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† ÙˆØªÙˆØ«ÙŠÙ‚ Ø§Ø³ØªÙ„Ø§Ù…Ù‡Ù… Ù„Ù‡Ø§.", "Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù…Ø© (Ø§Ù„ØªØ­Ø¶ÙŠØ±+Ø§Ù„Ø²ÙŠ ÙˆØ§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©+Ø§Ù„Ø®Ø·Ø©).", "Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù…Ø³Ø¨Ù‚ Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„Ù…Ø© Ù„Ø­Ø¶ÙˆØ± Ø­ØµØ© Ø¯Ø±Ø§Ø³ÙŠØ©."] }, 'supervisory_october': { name: 'Ø²ÙŠØ§Ø±Ø© Ø§Ø´Ø±Ø§ÙÙŠØ© (Ø£ÙƒØªÙˆØ¨Ø±)', objectives_list: ["Ø§Ù„Ø§Ù„ØªÙ‚Ø§Ø¡ Ø¨Ø§Ù„ÙØ§Ø¶Ù„Ø© Ù…Ø¯ÙŠØ±Ø© Ø§Ù„Ù…Ø¯Ø±Ø³Ø© ÙˆÙ…Ø¹Ù„Ù…Ø©Ø§Ù„Ø±ÙŠØ§Ø¶Ø© Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ©.", "Ø­Ø¶ÙˆØ± Ø§Ù„Ø·Ø§Ø¨ÙˆØ± Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ.", "Ù…ØªØ§Ø¨Ø¹Ø© ØªÙ†ÙÙŠØ° Ø®Ø·Ø© Ø§Ù„Ù…Ù†Ù‡Ø§Ø¬ ÙˆØ§Ù„Ø§Ø·Ù„Ø§Ø¹ Ø¹Ù„Ù‰ Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© (Ø§Ù„Ø²ÙŠ ÙˆØ§Ù„Ù…Ø´Ø§Ø±ÙƒØ©).", "Ø­Ø¶ÙˆØ± Ù…ÙˆÙ‚Ù ØµÙÙŠ Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„Ù…Ø© ÙˆØ§Ù„Ù…Ø¯Ø§ÙˆÙ„Ø© Ø§Ù„Ø§Ø´Ø±Ø§ÙÙŠØ©.", "Ø´Ø±Ø­ Ø§Ù„ÙŠÙ‡ ØªÙ†ÙÙŠØ° Ø§Ù„Ø­ØµØ© ÙƒØªØ·Ø¨ÙŠÙ‚Ø§Øª ØªÙ†Ø§ÙØ³ÙŠØ©.", "Ø­Ø« Ø§Ù„Ù…Ø¹Ù„Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø·Ù„Ø§Ø¹ Ø¹Ù„Ù‰ Ø²ÙŠØ§Ø±Ø§ØªÙ‡ Ø§Ù„Ø§Ø´Ø±Ø§ÙÙŠØ© ÙˆØ§Ù„Ø­Ø±Øµ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨ØªÙ†ÙÙŠØ° Ø§Ù„Ù†Ø´Ø±Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ø§Ø¯Ø©.", "Ù…ØªØ§Ø¨Ø¹Ø© ØªÙ†ÙÙŠØ° Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©."], completedOpinions: ["ØªÙ… Ø§Ù„Ø§Ù„ØªÙ‚Ø§Ø¡ Ø¨Ø§Ù„ÙØ§Ø¶Ù„Ø© Ù…Ø¯ÙŠØ±Ø© Ø§Ù„Ù…Ø¯Ø±Ø³Ø© ÙˆÙ…Ø¹Ù„Ù…Ø© Ø§Ù„Ø±ÙŠØ§Ø¶Ø© Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ©.", "ØªÙ… Ø­Ø¶ÙˆØ± Ø§Ù„Ø·Ø§Ø¨ÙˆØ± Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ ÙˆÙƒØ§Ù† Ù…Ù†Ø¸Ù…Ø§Ù‹.", "ØªÙ… Ù…ØªØ§Ø¨Ø¹Ø© ØªÙ†ÙÙŠØ° Ø®Ø·Ø© Ø§Ù„Ù…Ù†Ù‡Ø§Ø¬ ÙˆØ³Ø¬Ù„Ø§Øª Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© ÙˆÙƒØ§Ù†Øª Ù…ÙƒØªÙ…Ù„Ø©.", "ØªÙ… Ø­Ø¶ÙˆØ± Ù…ÙˆÙ‚Ù ØµÙÙŠ Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„Ù…Ø© ÙˆÙƒØ§Ù†Øª Ø§Ù„Ù…Ø¯Ø§ÙˆÙ„Ø© Ù…Ø«Ù…Ø±Ø©.", "ØªÙ… Ø´Ø±Ø­ Ø§Ù„ÙŠÙ‡ ØªÙ†ÙÙŠØ° Ø§Ù„Ø­ØµØ© ÙƒØªØ·Ø¨ÙŠÙ‚Ø§Øª ØªÙ†Ø§ÙØ³ÙŠØ©.", "ØªÙ… Ø­Ø« Ø§Ù„Ù…Ø¹Ù„Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø·Ù„Ø§Ø¹ Ø¹Ù„Ù‰ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø§Ø´Ø±Ø§ÙÙŠØ© ÙˆØ§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø§Ù„Ù†Ø´Ø±Ø§Øª.", "ØªÙ…Øª Ù…ØªØ§Ø¨Ø¹Ø© ØªÙ†ÙÙŠØ° Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ÙˆÙƒØ§Ù†Øª Ù…ÙƒØªÙ…Ù„Ø©."], incompleteOpinions: ["ØªÙ… Ø§Ù„Ø§Ù„ØªÙ‚Ø§Ø¡ Ø¨Ø§Ù„ÙØ§Ø¶Ù„Ø© Ù…Ø¯ÙŠØ±Ø© Ø§Ù„Ù…Ø¯Ø±Ø³Ø© ÙˆØ¨ØºÙŠØ§Ø¨ Ù…Ø¹Ù„Ù…Ø© Ø§Ù„Ø±ÙŠØ§Ø¶Ø© Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ©.", "Ù„ÙˆØ­Ø¸ ÙˆØ¬ÙˆØ¯ Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª ÙÙŠ ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø·Ø§Ø¨ÙˆØ± Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠ.", "Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© (Ø§Ù„Ø²ÙŠ ÙˆØ§Ù„Ù…Ø´Ø§Ø±ÙƒØ©) ØºÙŠØ± Ù…ÙƒØªÙ…Ù„Ø©ØŒ ÙˆØªÙ… ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø¹Ù„Ù…Ø© Ù„Ø§Ø³ØªÙƒÙ…Ø§Ù„Ù‡Ø§.", "ØªØ¹Ø°Ø± Ø­Ø¶ÙˆØ± Ù…ÙˆÙ‚Ù ØµÙÙŠ Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„Ù…Ø©.", "Ù„ÙˆØ­Ø¸ Ø¶Ø¹Ù ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­ØµØ© ÙƒØªØ·Ø¨ÙŠÙ‚Ø§Øª ØªÙ†Ø§ÙØ³ÙŠØ©ØŒ ÙˆØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø´Ø±Ø­ Ø§Ù„Ø¢Ù„ÙŠØ© Ù„Ù„Ù…Ø¹Ù„Ù…Ø©.", "Ù„ÙˆØ­Ø¸ Ø¹Ø¯Ù… Ø§Ø·Ù„Ø§Ø¹ Ø§Ù„Ù…Ø¹Ù„Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©ØŒ ÙˆØªÙ… Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø¹Ù„ÙŠÙ‡Ø§ Ø¨Ø¶Ø±ÙˆØ±Ø© Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©.", "Ø¨Ø¹Ø¶ Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ù„Ù… ÙŠØªÙ… ØªÙ†ÙÙŠØ°Ù‡Ø§ØŒ ÙˆØªÙ… Ù…Ù†Ø§Ù‚Ø´Ø© Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨ Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„Ù…Ø© ÙˆØ§Ù„Ø¥Ø¯Ø§Ø±Ø©."], recommendations: ["Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØªØ²Ø§Ù… Ø§Ù„Ù‡ÙŠØ¦Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ³ÙŠØ© Ø¨Ø§Ù„Ø­Ø¶ÙˆØ±.", "ØªØ­Ø³ÙŠÙ† ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø·Ø§Ø¨ÙˆØ± Ø§Ù„ØµØ¨Ø§Ø­ÙŠ.", "Ø¶Ø±ÙˆØ±Ø© Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© (Ø§Ù„Ø²ÙŠ ÙˆØ§Ù„Ù…Ø´Ø§Ø±ÙƒØ©) Ø¨Ø´ÙƒÙ„ Ø¯ÙˆØ±ÙŠ.", "Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù…Ø³Ø¨Ù‚ Ù„Ø­Ø¶ÙˆØ± Ù…ÙˆÙ‚Ù ØµÙÙŠ.", "Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø¹Ù„Ù‰ ØªÙ†ÙÙŠØ° Ø§Ù„Ø­ØµØµ ÙƒØªØ·Ø¨ÙŠÙ‚Ø§Øª ØªÙ†Ø§ÙØ³ÙŠØ© Ù„Ø²ÙŠØ§Ø¯Ø© ØªÙØ§Ø¹Ù„ Ø§Ù„Ø·Ù„Ø¨Ø©.", "Ø­Ø« Ø§Ù„Ù…Ø¹Ù„Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø¯ÙˆØ±ÙŠØ© Ù„Ù„Ø²ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø¥Ø´Ø±Ø§ÙÙŠØ© ÙˆØ§Ù„Ù†Ø´Ø±Ø§Øª.", "Ù…ØªØ§Ø¨Ø¹Ø© ØªÙ†ÙÙŠØ° Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ÙˆØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„Ù„Ø§Ø²Ù…."] } };

            const schoolDashboardView = schoolApp.querySelector('#schoolDashboardView');
            const schoolFormView = schoolApp.querySelector('#schoolFormView');
            const reportPreviewContainer = schoolApp.querySelector('#reportPreviewContainer');
            const userEmailDisplay = schoolApp.querySelector('#userEmailDisplay');
            const reportForm = schoolApp.querySelector('#reportForm');
            const reportIdInput = schoolApp.querySelector('#reportId');
            const formTitle = schoolApp.querySelector('#formTitle');
            const schoolNameSelect = schoolApp.querySelector('#schoolName');
            const visitTypeSelect = schoolApp.querySelector('#visitTypeSelect');
            const objectivesContainer = schoolApp.querySelector('#objectivesContainer');
            const opinionsContainer = schoolApp.querySelector('#opinionsContainer');
            const recommendationsTextarea = schoolApp.querySelector('#recommendations');
            const attachmentsInput = schoolApp.querySelector('#attachmentsInput');
            const attachmentsList = schoolApp.querySelector('#attachmentsList');
            const addNewReportBtn = schoolApp.querySelector('#addNewReportBtn');
            const backToDashboardBtn = schoolApp.querySelector('#backToDashboardBtn');
            const prepareReportBtn = schoolApp.querySelector('#prepareReportBtn');
            const backToBtn = schoolApp.querySelector('#backToBtn');
            const selectAllObjectivesBtn = schoolApp.querySelector('#selectAllObjectivesBtn');
            const copyAllBtn = schoolApp.querySelector('#copyAllBtn');
            const generateRecsBtn = schoolApp.querySelector('#generate-recommendations-btn');
            const reportsListContainer = schoolApp.querySelector('#reportsListContainer');
            const manageVisitTypesBtn = schoolApp.querySelector('#manageVisitTypesBtn');
            const manageTypesModal = schoolApp.querySelector('#manageTypesModal');
            const closeManageModalBtn = schoolApp.querySelector('#closeManageModalBtn');
            const visitTypesList = schoolApp.querySelector('#visitTypesList');
            const addNewTypeBtn = schoolApp.querySelector('#addNewTypeBtn');
            const addEditTypeModal = schoolApp.querySelector('#addEditTypeModal');
            const addEditModalTitle = schoolApp.querySelector('#addEditModalTitle');
            const addEditTypeForm = schoolApp.querySelector('#addEditTypeForm');
            const editTypeKeyInput = schoolApp.querySelector('#editTypeKey');
            const typeNameInput = schoolApp.querySelector('#typeName');
            const typeObjectivesTextarea = schoolApp.querySelector('#typeObjectives');
            const cancelEditBtn = schoolApp.querySelector('#cancelEditBtn');
            const confirmationModal = schoolApp.querySelector('#confirmationModal');
            const confirmationModalMessage = schoolApp.querySelector('#confirmationModalMessage');
            const confirmActionBtn = schoolApp.querySelector('#confirmActionBtn');
            const cancelActionBtn = schoolApp.querySelector('#cancelActionBtn');
            
            userId = auth.currentUser.uid;
            userEmailDisplay.textContent = auth.currentUser.isAnonymous ? `Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${userId}` : auth.currentUser.email;
            setupFirestoreListeners(userId);
            showDashboardView(); 

            function setupFirestoreListeners(uid) {
                const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
                const reportsQuery = query(collection(db, "artifacts", appId, "users", uid, "school_reports"));
                unsubscribeReports = onSnapshot(reportsQuery, (snap) => { savedReports = []; snap.forEach((doc) => savedReports.push({ id: doc.id, ...doc.data() })); renderDashboard(); }, (error) => console.error("Error fetching school reports:", error));
                const typesQuery = query(collection(db, "artifacts", appId, "users", uid, "school_visit_types"));
                unsubscribeVisitTypes = onSnapshot(typesQuery, (snap) => {
                    if (snap.empty) { Object.keys(defaultVisitTypesData).forEach(key => addDoc(collection(db, "artifacts", appId, "users", uid, "school_visit_types"), defaultVisitTypesData[key])); } 
                    else { visitTypesData = {}; snap.forEach((doc) => visitTypesData[doc.id] = doc.data()); }
                    populateVisitTypeDropdown(); renderObjectivesForCurrentType();
                }, (error) => console.error("Error fetching school visit types:", error));
            }

            function showConfirmationModal(message, callback) { confirmationModalMessage.textContent = message; confirmationCallback = callback; confirmationModal.classList.remove('hidden'); }
            confirmActionBtn.addEventListener('click', () => { if (confirmationCallback) confirmationCallback(); confirmationModal.classList.add('hidden'); });
            cancelActionBtn.addEventListener('click', () => confirmationModal.classList.add('hidden'));

            function showDashboardView() { renderDashboard(); schoolDashboardView.classList.remove('hidden'); schoolFormView.classList.add('hidden'); reportPreviewContainer.classList.add('hidden'); }
            function showFormView(reportToEdit = null) { schoolFormView.classList.remove('hidden'); schoolDashboardView.classList.add('hidden'); reportPreviewContainer.classList.add('hidden'); if (reportToEdit) { populateForm(reportToEdit); formTitle.textContent = 'ØªØ¹Ø¯ÙŠÙ„ ØªÙ‚Ø±ÙŠØ± Ø²ÙŠØ§Ø±Ø©'; } else { resetForm(); formTitle.textContent = 'Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ± Ø²ÙŠØ§Ø±Ø© Ù…Ø¯Ø±Ø³ÙŠØ©'; } }
            function showPreviewView(reportData) { renderReportPreview(reportData); reportPreviewContainer.classList.remove('hidden'); schoolDashboardView.classList.add('hidden'); schoolFormView.classList.add('hidden'); }
            
            function renderDashboard() { reportsListContainer.innerHTML = ''; if (!savedReports || savedReports.length === 0) { reportsListContainer.innerHTML = `<div class="text-center py-10 px-6 bg-gray-50 rounded-lg"><h3 class="text-lg font-semibold text-gray-700">Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ‚Ø§Ø±ÙŠØ±</h3><p class="text-gray-500 mt-2">Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¶Ø§ÙØ© ØªÙ‚Ø±ÙŠØ±Ùƒ Ø§Ù„Ø£ÙˆÙ„.</p></div>`; return; } const list = document.createElement('div'); list.className = 'space-y-4'; savedReports.sort((a, b) => b.visitDate - a.visitDate).forEach(report => { const item = document.createElement('div'); item.className = 'flex flex-col sm:flex-row justify-between items-start sm:items-center p-4 bg-white border rounded-lg shadow-sm hover:shadow-md transition-shadow gap-4'; const reportDate = new Date(report.visitDate).toLocaleDateString('ar-OM', { year: 'numeric', month: 'long', day: 'numeric' }); const attachmentIcon = (report.attachments && report.attachments.length > 0) ? `<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-400 mr-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8 4a3 3 0 00-3 3v4a3 3 0 006 0V7a1 1 0 112 0v4a5 5 0 01-10 0V7a5 5 0 0110 0v4a1 1 0 11-2 0V7a3 3 0 00-3-3z" clip-rule="evenodd" /></svg>` : ''; item.innerHTML = `<div class="flex items-center">${attachmentIcon}<div><p class="font-bold text-gray-800">${report.schoolName}</p><p class="text-sm text-gray-500">${reportDate} - ${report.visitTypeName}</p></div></div><div class="flex gap-3 self-end sm:self-center"><button data-id="${report.id}" class="view-btn text-sm text-green-600 hover:underline">Ø¹Ø±Ø¶</button><button data-id="${report.id}" class="edit-btn text-sm text-blue-600 hover:underline">ØªØ¹Ø¯ÙŠÙ„</button><button data-id="${report.id}" class="delete-btn text-sm text-red-600 hover:underline">Ø­Ø°Ù</button></div>`; list.appendChild(item); }); reportsListContainer.appendChild(list); }
            
            function resetForm() { reportForm.reset(); reportIdInput.value = ''; schoolFormView.querySelector('#visitDate').valueAsDate = new Date(); const keys = Object.keys(visitTypesData); if (keys.length > 0) { currentVisitTypeKey = keys[0]; visitTypeSelect.value = currentVisitTypeKey; } currentAttachments = []; renderAttachmentsList(); renderObjectivesForCurrentType(); }
            function populateForm(report) { resetForm(); reportIdInput.value = report.id; schoolNameSelect.value = report.schoolName; schoolFormView.querySelector('#visitDate').value = new Date(report.visitDate).toISOString().split('T')[0]; recommendationsTextarea.value = report.recommendations; currentVisitTypeKey = report.visitTypeKey; visitTypeSelect.value = currentVisitTypeKey; currentAttachments = report.attachments || []; renderAttachmentsList(); renderObjectivesForCurrentType(); const checkboxes = objectivesContainer.querySelectorAll('input[type="checkbox"]'); checkboxes.forEach(cb => { if (report.checkedObjectives.includes(cb.dataset.genderedValue)) cb.checked = true; }); updateOpinionsSection(); setTimeout(() => { if (report.opinions) { report.opinions.forEach(op => { const textarea = schoolApp.querySelector(`#opinion-${op.index}`); if (textarea) textarea.value = op.text; }); } }, 0); }
            function populateVisitTypeDropdown() { visitTypeSelect.innerHTML = ''; const keys = Object.keys(visitTypesData); if (keys.length === 0) return; keys.forEach(key => { const option = document.createElement('option'); option.value = key; option.textContent = visitTypesData[key].name; visitTypeSelect.appendChild(option); }); currentVisitTypeKey = visitTypeSelect.value || keys[0]; if (currentVisitTypeKey) visitTypeSelect.value = currentVisitTypeKey; }
            function renderObjectivesForCurrentType() { if (!currentVisitTypeKey || !visitTypesData[currentVisitTypeKey]) { objectivesContainer.innerHTML = ''; return; } const data = visitTypesData[currentVisitTypeKey]; objectivesContainer.innerHTML = ''; data.objectives_list.forEach((objective, index) => { objectivesContainer.innerHTML += `<div class="flex items-start"><input id="objective-${index}" type="checkbox" value="${objective}" data-gendered-value="${objective}" data-index="${index}" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 mt-1"><label for="objective-${index}" class="mr-2 text-sm font-medium text-gray-900">${index + 1}- ${objective}</label></div>`; }); updateOpinionsSection(); updateSelectAllButtonState(); }
            
            function updateOpinionsSection() { const savedOpinions = new Map(); opinionsContainer.querySelectorAll('.opinion-block textarea').forEach(t => savedOpinions.set(t.id, t.value)); opinionsContainer.innerHTML = ''; const checked = objectivesContainer.querySelectorAll('input:checked'); if (checked.length === 0) { opinionsContainer.innerHTML = '<p class="text-center text-gray-500">Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Ù‡Ø¯Ù.</p>'; return; } checked.forEach(cb => { const index = cb.dataset.index; opinionsContainer.innerHTML += `<div class="opinion-block space-y-2"><label for="opinion-${index}" class="block text-sm font-semibold text-gray-800">${parseInt(index) + 1}- ${cb.dataset.genderedValue}</label><div class="flex gap-2 flex-wrap"><button type="button" data-opinion="completed" data-index="${index}" class="px-3 py-1 text-xs font-medium text-green-800 bg-green-100 rounded-full hover:bg-green-200">âœ… Ù…ÙƒØªÙ…Ù„</button><button type="button" data-opinion="incomplete" data-index="${index}" class="px-3 py-1 text-xs font-medium text-red-800 bg-red-100 rounded-full hover:bg-red-200">âŒ ØºÙŠØ± Ù…ÙƒØªÙ…Ù„</button></div><textarea id="opinion-${index}" rows="3" class="block p-2.5 w-full text-sm text-gray-900 bg-white rounded-lg border border-gray-300"></textarea></div>`; }); savedOpinions.forEach((val, id) => { const ta = schoolApp.querySelector(`#${id}`); if (ta) ta.value = val; }); }
            
            function renderAttachmentsList() { attachmentsList.innerHTML = ''; if (currentAttachments.length === 0) return; currentAttachments.forEach((file, index) => { attachmentsList.innerHTML += `<div class="flex justify-between items-center p-2 bg-gray-100 rounded-md text-sm"><span class="truncate">${file.name}</span><button type="button" data-index="${index}" class="remove-attachment-btn text-red-500">&times;</button></div>`; }); }
            attachmentsInput.addEventListener('change', (e) => { Array.from(e.target.files).forEach(file => { const reader = new FileReader(); reader.onload = (event) => { currentAttachments.push({ name: file.name, data: event.target.result }); renderAttachmentsList(); }; reader.readAsDataURL(file); }); e.target.value = ''; });
            attachmentsList.addEventListener('click', (e) => { if (e.target.classList.contains('remove-attachment-btn')) { currentAttachments.splice(e.target.dataset.index, 1); renderAttachmentsList(); } });

            function renderReportPreview(data) { const d = new Date(data.visitDate).toLocaleDateString('ar-OM'); let html = `<h2 class="text-2xl font-bold mb-4 text-center">ØªÙ‚Ø±ÙŠØ± Ø²ÙŠØ§Ø±Ø© Ø¥Ø´Ø±Ø§ÙÙŠØ©</h2><div class="grid grid-cols-2 gap-4 mb-6 border-b pb-4"><p><strong>Ø§Ù„Ù…Ø¯Ø±Ø³Ø©:</strong> ${data.schoolName}</p><p><strong>Ø§Ù„ØªØ§Ø±ÙŠØ®:</strong> ${d}</p><p><strong>Ø§Ù„Ù†ÙˆØ¹:</strong> ${data.visitTypeName}</p></div>`; html += `<div id="reportObjectives"><div class="flex justify-between items-center mt-6 mb-3"><h3 class="text-xl font-semibold">Ø§Ù„Ø£Ù‡Ø¯Ø§Ù:</h3><button data-target="reportObjectives" class="copy-section-btn text-xs no-print">Ù†Ø³Ø®</button></div><ol class="list-decimal list-inside space-y-2">${data.checkedObjectives.map(o => `<li>${o}</li>`).join('')}</ol></div>`; html += `<div id="reportOpinions"><div class="flex justify-between items-center mt-6 mb-3"><h3 class="text-xl font-semibold">Ø§Ù„Ø±Ø£ÙŠ:</h3><button data-target="reportOpinions" class="copy-section-btn text-xs no-print">Ù†Ø³Ø®</button></div><ol class="list-decimal list-inside space-y-2">${(data.opinions || []).sort((a, b) => a.index - b.index).map(o => `<li class="text-gray-700">${o.text.replace(/\n/g, '<br>')}</li>`).join('')}</ol></div>`; if (data.recommendations) html += `<div id="reportRecommendations"><div class="flex justify-between items-center mt-6 mb-3"><h3 class="text-xl font-semibold">Ø§Ù„ØªÙˆØµÙŠØ§Øª:</h3><button data-target="reportRecommendations" class="copy-section-btn text-xs no-print">Ù†Ø³Ø®</button></div><p class="text-gray-700">${data.recommendations.replace(/\n/g, '<br>')}</p></div>`; schoolApp.querySelector('#reportContent').innerHTML = html; }
            function copyToClipboard(text, button) { const ta = document.createElement("textarea"); ta.value = text; ta.style.position = "fixed"; ta.style.opacity = 0; document.body.appendChild(ta); ta.select(); try { document.execCommand('copy'); const original = button.textContent; button.textContent = 'ØªÙ… Ø§Ù„Ù†Ø³Ø®!'; setTimeout(() => { button.textContent = original; }, 2000); } catch (err) { console.error('Copy failed', err); } document.body.removeChild(ta); }
            copyAllBtn.addEventListener('click', (e) => { let text = ""; ['reportObjectives', 'reportOpinions', 'reportRecommendations'].forEach(id => { const el = schoolApp.querySelector(`#${id}`); if (el) { text += el.querySelector('h3').innerText + "\n"; if (id === 'reportRecommendations') text += el.querySelector('p').innerText.trim() + "\n\n"; else el.querySelectorAll('li').forEach((li, i) => text += `${i + 1}- ${li.textContent.trim()}\n`); text += "\n"; } }); copyToClipboard(text.trim(), e.target); });
            reportPreviewContainer.addEventListener('click', (e) => { if (e.target.classList.contains('copy-section-btn')) { const target = schoolApp.querySelector(`#${e.target.dataset.target}`); if (!target) return; let text = ""; if (e.target.dataset.target === 'reportRecommendations') text = target.querySelector('p').innerText.trim(); else target.querySelectorAll('li').forEach((li, i) => text += `${i + 1}- ${li.textContent.trim()}\n`); copyToClipboard(text.trim(), e.target); } });
            
            addNewReportBtn.addEventListener('click', () => showFormView());
            backToDashboardBtn.addEventListener('click', showDashboardView);
            
            reportForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const reportId = reportIdInput.value;
                 const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
                const data = { schoolName: schoolNameSelect.value, visitDate: new Date(schoolFormView.querySelector('#visitDate').value).getTime(), visitTypeKey: currentVisitTypeKey, visitTypeName: visitTypesData[currentVisitTypeKey].name, checkedObjectives: Array.from(objectivesContainer.querySelectorAll('input:checked')).map(cb => cb.dataset.genderedValue), opinions: Array.from(objectivesContainer.querySelectorAll('input:checked')).map(cb => ({ index: cb.dataset.index, text: schoolApp.querySelector(`#opinion-${cb.dataset.index}`).value })), recommendations: recommendationsTextarea.value, attachments: currentAttachments, updatedAt: serverTimestamp() };
                try { if (reportId) await updateDoc(doc(db, "artifacts", appId, "users", userId, "school_reports", reportId), data); else await addDoc(collection(db, "artifacts", appId, "users", userId, "school_reports"), data); showDashboardView(); } catch (err) { console.error(err); alert("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­ÙØ¸."); }
            });
            
            prepareReportBtn.addEventListener('click', () => { if (!reportForm.checkValidity()) { reportForm.reportValidity(); return; } previewSource = 'form'; showPreviewView({ schoolName: schoolNameSelect.value, visitDate: new Date(schoolFormView.querySelector('#visitDate').value), visitTypeName: visitTypesData[currentVisitTypeKey].name, checkedObjectives: Array.from(objectivesContainer.querySelectorAll('input:checked')).map(cb => cb.dataset.genderedValue), opinions: Array.from(objectivesContainer.querySelectorAll('input:checked')).map(cb => ({ index: cb.dataset.index, text: schoolApp.querySelector(`#opinion-${cb.dataset.index}`).value })), recommendations: recommendationsTextarea.value, attachments: currentAttachments }); });
            backToBtn.addEventListener('click', () => { if (previewSource === 'dashboard') showDashboardView(); else showFormView(savedReports.find(r => r.id === reportIdInput.value) || null); });
            
            reportsListContainer.addEventListener('click', async (e) => {
                const id = e.target.dataset.id; if (!id) return;
                const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
                const report = savedReports.find(r => r.id === id);
                if (e.target.classList.contains('view-btn')) { previewSource = 'dashboard'; showPreviewView(report); } 
                else if (e.target.classList.contains('edit-btn')) { showFormView(report); } 
                else if (e.target.classList.contains('delete-btn')) { showConfirmationModal(`Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù ØªÙ‚Ø±ÙŠØ± "${report.schoolName}"ØŸ`, async () => { try { await deleteDoc(doc(db, "artifacts", appId, "users", userId, "school_reports", id)); renderDashboard(); } catch (err) { alert("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­Ø°Ù."); } }); }
            });
            
            schoolNameSelect.addEventListener('change', renderObjectivesForCurrentType);
            visitTypeSelect.addEventListener('change', (e) => { currentVisitTypeKey = e.target.value; renderObjectivesForCurrentType(); });
            objectivesContainer.addEventListener('change', () => { updateOpinionsSection(); updateSelectAllButtonState(); });
            selectAllObjectivesBtn.addEventListener('click', () => { const all = objectivesContainer.querySelectorAll('input'); if(all.length === 0) return; const allSelected = Array.from(all).every(cb => cb.checked); all.forEach(cb => cb.checked = !allSelected); updateOpinionsSection(); updateSelectAllButtonState(); });
            opinionsContainer.addEventListener('click', (e) => { if (e.target.matches('button[data-opinion]')) { const ta = schoolApp.querySelector(`#opinion-${e.target.dataset.index}`); ta.value = (e.target.dataset.opinion === 'completed') ? visitTypesData[currentVisitTypeKey].completedOpinions[e.target.dataset.index] : visitTypesData[currentVisitTypeKey].incompleteOpinions[e.target.dataset.index]; } });
            generateRecsBtn.addEventListener('click', () => { if (objectivesContainer.querySelectorAll('input:checked').length === 0) { alert("Ø­Ø¯Ø¯ Ù‡Ø¯ÙÙ‹Ø§."); return; } const recs = []; objectivesContainer.querySelectorAll('input:checked').forEach(cb => { const index = cb.dataset.index; if (schoolApp.querySelector(`#opinion-${index}`).value.trim() === visitTypesData[currentVisitTypeKey].incompleteOpinions[index].trim()) recs.push(visitTypesData[currentVisitTypeKey].recommendations[index]); }); recommendationsTextarea.value = (recs.length > 0) ? "Ù†ÙˆØµÙŠ Ø¨Ø§Ù„Ø¢ØªÙŠ:\n- " + recs.join('\n- ') + "\n\nÙˆØ§Ù„Ù„Ù‡ Ø§Ù„Ù…ÙˆÙÙ‚." : "Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„ Ù…Ù…ØªØ§Ø²."; });

            manageVisitTypesBtn.addEventListener('click', () => { renderManagerModal(); manageTypesModal.classList.remove('hidden'); });
            closeManageModalBtn.addEventListener('click', () => manageTypesModal.classList.add('hidden'));
            addNewTypeBtn.addEventListener('click', () => { editTypeKeyInput.value = ''; addEditModalTitle.textContent = 'Ø¥Ø¶Ø§ÙØ© Ù†ÙˆØ¹'; addEditTypeForm.reset(); addEditTypeModal.classList.remove('hidden'); });
            visitTypesList.addEventListener('click', (e) => { const key = e.target.dataset.key; if (!key) return; const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id'; if (e.target.classList.contains('edit-btn')) { editTypeKeyInput.value = key; addEditModalTitle.textContent = 'ØªØ¹Ø¯ÙŠÙ„ Ù†ÙˆØ¹'; typeNameInput.value = visitTypesData[key].name; typeObjectivesTextarea.value = visitTypesData[key].objectives_list.join('\n'); addEditTypeModal.classList.remove('hidden'); } if (e.target.classList.contains('delete-btn')) { if (Object.keys(visitTypesData).length <= 1) { alert("ÙŠØ¬Ø¨ ÙˆØ¬ÙˆØ¯ Ù†ÙˆØ¹ ÙˆØ§Ø­Ø¯."); return; } showConfirmationModal(`Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù "${visitTypesData[key].name}"ØŸ`, async () => { await deleteDoc(doc(db, "artifacts", appId, "users", userId, "school_visit_types", key)); }); } });
            cancelEditBtn.addEventListener('click', () => addEditTypeModal.classList.add('hidden'));
            addEditTypeForm.addEventListener('submit', async (e) => { e.preventDefault(); const key = editTypeKeyInput.value; const name = typeNameInput.value.trim(); const objectives = typeObjectivesTextarea.value.trim().split('\n').filter(Boolean); if (!name || objectives.length === 0) { alert("Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ù‹Ø§ ÙˆÙ‡Ø¯ÙÙ‹Ø§."); return; } const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id'; const data = { name, objectives_list: objectives, completedOpinions: objectives.map(o => `ØªÙ… ${o} Ø¨Ù†Ø¬Ø§Ø­.`), incompleteOpinions: objectives.map(o => `Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø­ÙˆÙ„ ${o}`), recommendations: objectives.map(o => `Ù…ØªØ§Ø¨Ø¹Ø© ${o}.`) }; if (key) await updateDoc(doc(db, "artifacts", appId, "users", userId, "school_visit_types", key), data); else currentVisitTypeKey = (await addDoc(collection(db, "artifacts", appId, "users", userId, "school_visit_types"), data)).id; addEditTypeModal.classList.add('hidden'); });
            function renderManagerModal() { visitTypesList.innerHTML = ''; Object.keys(visitTypesData).forEach(key => visitTypesList.innerHTML += `<div class="flex justify-between items-center p-2 bg-gray-50 rounded-lg"><span class="font-medium">${visitTypesData[key].name}</span><div class="flex gap-2"><button data-key="${key}" class="edit-btn text-sm text-blue-600">ØªØ¹Ø¯ÙŠÙ„</button><button data-key="${key}" class="delete-btn text-sm text-red-600">Ø­Ø°Ù</button></div></div>`); }
            function updateSelectAllButtonState() { const all = objectivesContainer.querySelectorAll('input'); selectAllObjectivesBtn.textContent = (all.length > 0 && Array.from(all).every(cb => cb.checked)) ? 'Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ÙƒÙ„' : 'Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙƒÙ„'; }
        }

        // --- GLOBAL INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            
            const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
            let app, db, auth;

            try {
                if (!getApps().length) {
                    app = initializeApp(firebaseConfig);
                } else {
                    app = getApp();
                }
                db = getFirestore(app);
                auth = getAuth(app);
            } catch(e) {
                console.error("Top-level Firebase init failed", e);
                document.body.innerHTML = `<div class="p-8 text-center text-red-600">ÙØ´Ù„ ØªÙ‡ÙŠØ¦Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.</div>`;
                return;
            }

            onAuthStateChanged(auth, user => {
                if(user) {
                    initializeSupervisoryApp(db, auth);
                    initializeSchoolApp(db, auth);
                } else {
                     handleAuthentication();
                }
            });

            async function handleAuthentication() {
                try {
                    if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                        await signInWithCustomToken(auth, __initial_auth_token);
                    } else {
                        await signInAnonymously(auth);
                    }
                } catch (error) {
                    console.error("Firebase Global Authentication Failed:", error);
                    document.body.innerHTML = `<div class="p-8 text-center text-red-600">ÙØ´Ù„ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ù…Ø¹ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.</div>`;
                }
            }


            showView(welcomeView); // Start with the welcome view
        });

    </script>
</body>
</html>

